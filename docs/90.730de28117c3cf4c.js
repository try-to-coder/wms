"use strict";(self.webpackChunkwms_wip_web=self.webpackChunkwms_wip_web||[]).push([[90],{5090:(y,d,s)=>{s.r(d),s.d(d,{SapConfigurationModule:()=>S});var u=s(6814),p=s(2253),c=s(7394),h=s(2962),t=s(4946),m=s(2553),f=s(6551),v=s(3251),C=s(8273);let M=(()=>{class a{constructor(n){this.apiHandler=n}getSAP(){return this.apiHandler.getRequest("organization/sap",null,"sap-configuration : list")}saveSAP(n){return this.apiHandler.postRequest("organization/sap",n,"sap-configuration : save")}static#t=this.\u0275fac=function(i){return new(i||a)(t.LFG(C.k))};static#n=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Z=s(2307),l=s(6223);const g=function(a){return{"form-invalid-input":a}},A=[{path:"",component:(()=>{class a{constructor(n,i,e,r,o,T){this.route=n,this.log=i,this.credential=e,this.alert=r,this.sapApi=o,this.validationService=T,this.sapId="",this.sapnMaster={},this.result="",this.isOrgImageAvailable=!1,this.imageBase64="",this.validation={isInvalid:!1,isLoader:!1},this.subscription=new c.w0,this.onPreInit()}onPreInit(){}isRightsExisting(){return!0}ngOnInit(){this.isRightsExisting()?this.onPageReady():this.route.navigateByUrl(h.Q.unAuthorizedUrl)}onPageReady(){this.sapId=this.credential.getCredentialsData("SAP_Config_Id"),this.getSapDetail()}getSapDetail(){this.subscription.add(this.sapApi.getSAP().subscribe({next:n=>{this.log.log("sap configuration response : ",n),n&&(this.sapnMaster=n||{},this.sapId=this.sapnMaster.SAP_Config_Id,this.setSapDetail())},error:n=>{this.log.error(n,"sap-configuration","getSapDetail")},complete:()=>{}}))}setSapDetail(){this.sapnMaster.SAP_Config_Id=this.sapId||""}navigateBack(){this.route.navigateByUrl("/home")}numberValidation(n,i,e){if(13!=n.keyCode)return this.validationService.customValidation(n,i,e,"^[0-9]+$")}updateOrganization(){this.log.log("sapMaster: ",this.sapnMaster),this.validation.isInvalid=!1,this.validation.isLoader=!0,this.subscription.add(this.sapApi.saveSAP(this.sapnMaster).subscribe({next:n=>{if(this.log.log("sap update response : ",n),n){this.alert.showMixinAlert("Configuration updated successfully !!!"),this.sapnMaster=n||{},this.setSapDetail();const i=setTimeout(()=>{this.validation.isLoader=!1,clearTimeout(i)},1e3)}},error:n=>{this.log.error(n,"sap-configuration","saveSAP");const i=setTimeout(()=>{this.validation.isLoader=!1,clearTimeout(i)},1e3)}}))}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(p.F0),t.Y36(m.$),t.Y36(f.T),t.Y36(v.c),t.Y36(M),t.Y36(Z.R))};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-sap-configuration"]],decls:61,vars:13,consts:[[1,"breadcrumb-container"],[1,"breadcrumb-bar"],["aria-label","breadcrumb ",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb","mb-0"],["aria-current","page",1,"breadcrumb-item"],[1,"d-flex","align-items-center","gap-2"],[1,"aside-container"],["type","button",1,"all-back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","className","icon icon-tabler icon-tabler-arrow-back-up","width","24","height","24","viewBox","0 0 24 24","strokeWidth","2","stroke","currentColor","fill","none","strokeLinecap","round","strokeLinejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M9 14l-4 -4l4 -4"],["d","M5 10h11a4 4 0 1 1 0 8h-1"],[1,"hover-text"],[1,"all-button","outline",3,"click"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"document-main-container"],[1,"form-container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"form-group","form-field-group"],["for","sap-environment"],[1,"required-field"],["data-validation-info","Enter the field",1,"form-input-field",3,"ngClass"],["type","text","name","sap-environment","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],["for","sap-hostname"],["type","text","name","sap-hostname","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],["for","sap-port"],["data-validation-info","Enter the field",1,"form-input-field"],["type","text","name","sap-port","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],["for","sap-username"],["type","text","name","sap-username","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],["for","sap-password"],["type","text","name","sap-password","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4),t._uU(5,"SAP Configuration"),t.qZA()()()(),t.TgZ(6,"div",5)(7,"div",6)(8,"button",7),t.NdJ("click",function(){return e.navigateBack()}),t.TgZ(9,"span"),t.O4$(),t.TgZ(10,"svg",8),t._UZ(11,"path",9)(12,"path",10)(13,"path",11),t.qZA()(),t.kcU(),t.TgZ(14,"span",12),t._uU(15,"Back"),t.qZA()()(),t.TgZ(16,"div",6)(17,"button",13),t.NdJ("click",function(){return e.updateOrganization()}),t.TgZ(18,"span"),t._uU(19,"Update"),t.qZA(),t.TgZ(20,"div",14)(21,"span",15),t._uU(22,"Loading..."),t.qZA()()()()()(),t.TgZ(23,"div",16)(24,"div",17)(25,"div",18)(26,"div",19)(27,"div",20)(28,"label",21)(29,"span"),t._uU(30,"Environment"),t.qZA(),t.TgZ(31,"span",22),t._uU(32,"*"),t.qZA()(),t.TgZ(33,"div",23)(34,"input",24),t.NdJ("ngModelChange",function(o){return e.sapnMaster.Environment=o}),t.qZA()()(),t.TgZ(35,"div",20)(36,"label",25)(37,"span"),t._uU(38,"Hostname"),t.qZA(),t.TgZ(39,"span",22),t._uU(40,"*"),t.qZA()(),t.TgZ(41,"div",23)(42,"input",26),t.NdJ("ngModelChange",function(o){return e.sapnMaster.Hostname=o}),t.qZA()()(),t.TgZ(43,"div",20)(44,"label",27)(45,"span"),t._uU(46,"Port"),t.qZA()(),t.TgZ(47,"div",28)(48,"input",29),t.NdJ("ngModelChange",function(o){return e.sapnMaster.Port=o}),t.qZA()()(),t.TgZ(49,"div",20)(50,"label",30)(51,"span"),t._uU(52,"Username"),t.qZA()(),t.TgZ(53,"div",28)(54,"input",31),t.NdJ("ngModelChange",function(o){return e.sapnMaster.Username=o}),t.qZA()()(),t.TgZ(55,"div",20)(56,"label",32)(57,"span"),t._uU(58,"Password"),t.qZA()(),t.TgZ(59,"div",28)(60,"input",33),t.NdJ("ngModelChange",function(o){return e.sapnMaster.Password=o}),t.qZA()()()()()()()),2&i&&(t.xp6(17),t.ekj("loader",e.validation.isLoader),t.xp6(16),t.Q6J("ngClass",t.VKq(9,g,e.validation.isInvalid&&!e.sapnMaster.Environment)),t.xp6(1),t.Q6J("ngModel",e.sapnMaster.Environment),t.xp6(7),t.Q6J("ngClass",t.VKq(11,g,e.validation.isInvalid&&!e.sapnMaster.Hostname)),t.xp6(1),t.Q6J("ngModel",e.sapnMaster.Hostname),t.xp6(6),t.Q6J("ngModel",e.sapnMaster.Port),t.xp6(6),t.Q6J("ngModel",e.sapnMaster.Username),t.xp6(6),t.Q6J("ngModel",e.sapnMaster.Password))},dependencies:[u.mk,l.Fj,l.JJ,l.nD,l.On]})}return a})()}];let b=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(A),p.Bz]})}return a})(),S=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[u.ez,b,l.u5]})}return a})()}}]);
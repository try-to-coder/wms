"use strict";(self.webpackChunkwms_web_alstom=self.webpackChunkwms_web_alstom||[]).push([[785],{4785:(X,C,n)=>{n.r(C),n.d(C,{DispatchModule:()=>z});var c=n(6814),p=n(2253),t=n(4946);let w=(()=>{class a{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-dispatch"]],decls:1,vars:0,template:function(i,s){1&i&&t._UZ(0,"router-outlet")},dependencies:[p.lC]})}return a})();var u=n(627),L=n(8645),b=n(7394),d=n(2962),f=n(2553),D=n(3251),v=n(7981),T=n(6815),A=n(3359),M=n(8273);let k=(()=>{class a{constructor(e){this.apiHandler=e}getDispatchList(e,i,s){return this.apiHandler.getRequest(`dispatch/list/${e}/${i}/${s}`,null,"dispatch master : list",!0)}saveDispatch(e){return this.apiHandler.postRequest("dispatch/",e,"dispatch master : save",!0)}static#t=this.\u0275fac=function(i){return new(i||a)(t.LFG(M.k))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var O=n(3580),N=n(6149);function U(a,l){if(1&a&&(t.TgZ(0,"th"),t.ynx(1),t._uU(2),t.BQk(),t.qZA()),2&a){const e=l.$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(i.removeUS(e.key))}}function P(a,l){if(1&a&&(t.TgZ(0,"tr"),t.YNc(1,U,3,1,"th",36),t.ALo(2,"keyvalue"),t.qZA()),2&a){const e=l.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e,i.originalOrder))}}function x(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"td",39),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onPickListRowClick(s))}),t.ynx(1),t._uU(2),t.BQk(),t.qZA()}if(2&a){const e=l.$implicit;t.xp6(2),t.Oqu(e.value)}}function Q(a,l){if(1&a&&(t.TgZ(0,"tr"),t.YNc(1,x,3,1,"td",38),t.ALo(2,"keyvalue"),t.qZA()),2&a){const e=l.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e,i.originalOrder))}}function J(a,l){1&a&&(t.TgZ(0,"div",40)(1,"div",41),t._UZ(2,"img",42),t.qZA()())}let W=(()=>{class a{constructor(e,i,s,r,o,h,g){this.route=e,this.log=i,this.alert=s,this.warehouseApi=r,this.utility=o,this.dataTable=h,this.dispatchApi=g,this.dtOptions={},this.dtTrigger=new L.x,this.subscription=new b.w0,this.dispatchList=[],this.isTableDataRetrieved=!1,this.warehouseDropdown=[],this.isAccessWarehouseDropdown=!0,this.filterWareHouseCode="",this.filterDate={},this.originalOrder=(_,Z)=>0,this.onPreInit()}onPreInit(){}isRightsExisting(){return!0}ngOnInit(){this.isRightsExisting()?this.onPageReady():this.route.navigateByUrl(d.Q.unAuthorizedUrl)}onPageReady(){this.getBasicUtility(),this.getWarehouseList()}getWarehouseList(){this.subscription.add(this.warehouseApi.gerWarehouseDropdown().subscribe({next:e=>{this.log.log("response : ",e);const i=e||[];if(!i?.length)return this.alert.toastAlert("warning","Add warehouse before view GRN List"),void(this.warehouseDropdown=[]);this.setWarehouse(i)},error:e=>{this.log.error(e,"grn-list","getWarehouseList")},complete:()=>{}}))}setWarehouse(e=[]){const i=e;this.warehouseDropdown=this.utility.getSelectOptions(i||[],"Warehouse_Code","Warehouse_Name"),this.filterWareHouseCode||(this.filterWareHouseCode=i[0]?.Warehouse_Code||""),this.getDispatchList()}onFilterClick(){this.isTableDataRetrieved=!1,this.getDispatchList()}onCreatePutAway(){}removeUS(e){return e.replace(/_/g," ")}getDispatchList(e=!1){this.subscription.add(this.dispatchApi.getDispatchList(this.filterDate.fromDate,this.filterDate.toDate,this.filterWareHouseCode||"").subscribe({next:i=>{this.log.log("dispatch list response => ",i),this.setDispatchList(i||[],e);const r=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(r)},d.Q.tableLoaderDuration)},error:i=>{this.log.error(i,"dispatch-list","getDispatchList");const s=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(s)},d.Q.tableLoaderDuration)},complete:()=>{}}))}setDispatchList(e,i=!1){if(this.dispatchList=e||[],this.dispatchList.length)if(i)this.reRender();else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const s=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(s)},100)}}reRender(){if(this.dtElement.dtInstance)this.dtElement.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next();const i=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(i)},100)});else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const e=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(e)},100)}}getBasicUtility(){this.dtOptions=this.dataTable.getDataTableOptions(),this.filterDate=this.utility.getDateList(d.Q.dateOption.thisWeek)}onDispatchSelect(e){this.log.log("dispatch : ",e);const i=e||{};i.Dispatch_Number?(localStorage.setItem("grn-number",i.GRN_Number),this.navigateToDetail()):this.log.log("Dispatch Number is empty !!!")}navigateToDetail(){this.route.navigateByUrl("grn/detail")}onDispatchOrder(){this.route.navigateByUrl("dispatch/order")}navigateBack(){this.route.navigateByUrl("/home")}ngOnDestroy(){this.dtTrigger.unsubscribe(),this.subscription.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(p.F0),t.Y36(f.$),t.Y36(D.c),t.Y36(v.l),t.Y36(T.t),t.Y36(A.n),t.Y36(k))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-dispatch-list"]],viewQuery:function(i,s){if(1&i&&t.Gf(u.G,5),2&i){let r;t.iGM(r=t.CRH())&&(s.dtElement=r.first)}},decls:52,vars:21,consts:[[1,"breadcrumb-container"],[1,"breadcrumb-bar"],["aria-label","breadcrumb ",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb","mb-0"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","align-items-center","gap-2"],[1,"aside-container"],["type","button",1,"all-back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","className","icon icon-tabler icon-tabler-arrow-back-up","width","24","height","24","viewBox","0 0 24 24","strokeWidth","2","stroke","currentColor","fill","none","strokeLinecap","round","strokeLinejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M9 14l-4 -4l4 -4"],["d","M5 10h11a4 4 0 1 1 0 8h-1"],[1,"hover-text"],[1,"all-button",3,"click"],[1,"ms-2"],[1,"document-main-container"],[1,"form-container"],[1,"row"],[1,"col-md-12"],[1,"table-filter-container"],[1,"table-filter-content-container"],[1,"input-field-container"],[1,"floating-label"],[1,"all-select-comp-container"],[3,"data","isClear","allMarkModel","disabled","allMarkModelChange"],[1,"input-field-container","input-date-container"],["label","Date","floatingLabel","true",3,"isClear","dateModel","dateModelChange"],[1,"table-filter-button-container"],[1,"input-field-container","filter-button-container"],[1,"all-filter-icon-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-filter"],["d","M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"],[1,"data-table-scroll-container"],[1,"table-spinner-container"],["role","status",1,"spinner-border","text-success"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["class","no-record-found-container",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"no-record-found-container"],[1,"no-record-found-img-div"],["src","../../../assets/images/no-data-found.png","alt","No data found","title","No data found"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4),t._uU(5,"Dispatch"),t.qZA()()()(),t.TgZ(6,"div",5)(7,"div",6)(8,"button",7),t.NdJ("click",function(){return s.navigateBack()}),t.TgZ(9,"span"),t.O4$(),t.TgZ(10,"svg",8),t._UZ(11,"path",9)(12,"path",10)(13,"path",11),t.qZA()(),t.kcU(),t.TgZ(14,"span",12),t._uU(15,"Back"),t.qZA()()(),t.TgZ(16,"div",6)(17,"button",13),t.NdJ("click",function(){return s.onDispatchOrder()}),t.TgZ(18,"span",14),t._uU(19,"Dispatch Order"),t.qZA()()()()(),t.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"div",21)(27,"label",22),t._uU(28,"Warehouse"),t.qZA(),t.TgZ(29,"div",23)(30,"app-all-mark-select",24),t.NdJ("allMarkModelChange",function(o){return s.filterWareHouseCode=o}),t.qZA()()(),t.TgZ(31,"div",25)(32,"app-date-filter-field",26),t.NdJ("dateModelChange",function(o){return s.filterDate=o}),t.qZA()()(),t.TgZ(33,"div",27)(34,"div",28)(35,"button",29),t.NdJ("click",function(){return s.onFilterClick()}),t.TgZ(36,"span"),t.O4$(),t.TgZ(37,"svg",30),t._UZ(38,"path",9)(39,"path",31),t.qZA()()()()()()()(),t.kcU(),t.TgZ(40,"div",17)(41,"div",18)(42,"div",32)(43,"div",33),t._UZ(44,"div",34),t.qZA(),t.TgZ(45,"table",35)(46,"thead"),t.YNc(47,P,3,4,"tr",36),t.ALo(48,"slice"),t.qZA(),t.TgZ(49,"tbody"),t.YNc(50,Q,3,4,"tr",36),t.qZA()()(),t.YNc(51,J,3,0,"div",37),t.qZA()()()()),2&i&&(t.xp6(30),t.Q6J("data",s.warehouseDropdown)("isClear",!1)("allMarkModel",s.filterWareHouseCode)("disabled",!s.isAccessWarehouseDropdown),t.xp6(2),t.Q6J("isClear",!1)("dateModel",s.filterDate),t.xp6(3),t.ekj("button-loader",!s.isTableDataRetrieved),t.xp6(7),t.ekj("table-spinner",!s.isTableDataRetrieved)("hide-when-no-data",0==(null==s.dispatchList?null:s.dispatchList.length)),t.xp6(3),t.Q6J("dtOptions",s.dtOptions)("dtTrigger",s.dtTrigger),t.xp6(2),t.Q6J("ngForOf",t.Dn7(48,17,s.dispatchList,0,1)),t.xp6(3),t.Q6J("ngForOf",s.dispatchList),t.xp6(1),t.Q6J("ngIf",0==(null==s.dispatchList?null:s.dispatchList.length)&&s.isTableDataRetrieved))},dependencies:[c.sg,c.O5,u.G,O.j,N.u,c.OU,c.Nd]})}return a})();var y=n(9540);function q(a,l){if(1&a&&(t.TgZ(0,"th"),t.ynx(1),t._uU(2),t.BQk(),t.qZA()),2&a){const e=l.$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(i.removeUS(e.key))}}function R(a,l){if(1&a&&(t.TgZ(0,"tr"),t.YNc(1,q,3,1,"th",27),t.ALo(2,"keyvalue"),t.qZA()),2&a){const e=l.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e,i.originalOrder))}}function B(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"td",30),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onPickListRowClick(s))}),t.ynx(1),t._uU(2),t.BQk(),t.qZA()}if(2&a){const e=l.$implicit;t.xp6(2),t.Oqu(e.value)}}function F(a,l){if(1&a&&(t.TgZ(0,"tr"),t.YNc(1,B,3,1,"td",29),t.ALo(2,"keyvalue"),t.qZA()),2&a){const e=l.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e,i.originalOrder))}}function I(a,l){1&a&&(t.TgZ(0,"div",31)(1,"div",32),t._UZ(2,"img",33),t.qZA()())}let S=(()=>{class a{constructor(e,i,s,r,o,h,g,_){this.route=e,this.log=i,this.alert=s,this.warehouseApi=r,this.utility=o,this.dataTable=h,this.pickListApi=g,this.dispatchApi=_,this.dtOptions={},this.dtTrigger=new L.x,this.subscription=new b.w0,this.completedPickList=[],this.isTableDataRetrieved=!1,this.warehouseDropdown=[],this.isAccessWarehouseDropdown=!0,this.filterWareHouseCode="",this.filterDate={},this.originalOrder=(Z,V)=>0,this.onPreInit()}onPreInit(){}isRightsExisting(){return!0}ngOnInit(){this.isRightsExisting()?this.onPageReady():this.route.navigateByUrl(d.Q.unAuthorizedUrl)}onPageReady(){this.getBasicUtility(),this.getWarehouseList()}getWarehouseList(){this.subscription.add(this.warehouseApi.gerWarehouseDropdown().subscribe({next:e=>{this.log.log("warehouse response : ",e);const i=e||[];if(!i?.length)return this.alert.toastAlert("warning","Add warehouse before view GRN List"),void(this.warehouseDropdown=[]);this.setWarehouse(i)},error:e=>{this.log.error(e,"grn-list","getWarehouseList")}}))}setWarehouse(e=[]){const i=e;this.warehouseDropdown=this.utility.getSelectOptions(i||[],"Warehouse_Code","Warehouse_Name"),this.filterWareHouseCode||(this.filterWareHouseCode=i[0]?.Warehouse_Code||""),this.getPickListCompletedList()}onFilterClick(){this.isTableDataRetrieved=!1,this.getPickListCompletedList()}onCreatePutAway(){}removeUS(e){return e.replace(/_/g," ")}onWarehouseChange(e){e&&(this.isTableDataRetrieved=!1,this.getPickListCompletedList(!0))}getPickListCompletedList(e=!1){this.subscription.add(this.pickListApi.getPickList({Warehouse_Code:this.filterWareHouseCode||"",Picklist_Status:d.Q.pickListStatus.completed}).subscribe({next:s=>{this.log.log("dispatch list response => ",s),this.setDispatchList(s||[],e);const o=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(o)},d.Q.tableLoaderDuration)},error:s=>{this.log.error(s,"dispatch-list","getPickListCompletedList");const r=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(r)},d.Q.tableLoaderDuration)},complete:()=>{}}))}setDispatchList(e,i=!1){if(this.completedPickList=e||[],this.completedPickList.length)if(i)this.reRender();else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const s=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(s)},100)}}reRender(){if(this.dtElement.dtInstance)this.dtElement.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next();const i=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(i)},100)});else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const e=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(e)},100)}}onPickListRowClick(e){const i=e||{};i.Picklist_Number?(localStorage.setItem("pick-list-number",i.Picklist_Number),this.route.navigateByUrl("/dispatch/order-detail")):this.log.log("Pick list number is empty")}openDispatchOrderDetail(){}closeDispatchOrderDetail(){}getBasicUtility(){this.dtOptions=this.dataTable.getDataTableOptions(),this.filterDate=this.utility.getDateList(d.Q.dateOption.thisWeek)}onDispatchSelect(e){this.log.log("dispatch : ",e);const i=e||{};i.Dispatch_Number?(localStorage.setItem("grn-number",i.GRN_Number),this.navigateToDetail()):this.log.log("Dispatch Number is empty !!!")}navigateToDetail(){this.route.navigateByUrl("grn/detail")}onDispatchOrder(){this.route.navigateByUrl("dispatch/order")}navigateBack(){this.route.navigateByUrl("/dispatch")}ngOnDestroy(){this.dtTrigger.unsubscribe(),this.subscription.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(p.F0),t.Y36(f.$),t.Y36(D.c),t.Y36(v.l),t.Y36(T.t),t.Y36(A.n),t.Y36(y.L),t.Y36(k))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-dispatch-order"]],viewQuery:function(i,s){if(1&i&&t.Gf(u.G,5),2&i){let r;t.iGM(r=t.CRH())&&(s.dtElement=r.first)}},decls:39,vars:17,consts:[[1,"breadcrumb-container","pt-3"],[1,"breadcrumb-bar"],["aria-label","breadcrumb ",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb","mb-0"],["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item"],[1,"d-flex","align-items-center","gap-2"],[1,"aside-container"],["type","button",1,"all-back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","className","icon icon-tabler icon-tabler-arrow-back-up","width","24","height","24","viewBox","0 0 24 24","strokeWidth","2","stroke","currentColor","fill","none","strokeLinecap","round","strokeLinejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M9 14l-4 -4l4 -4"],["d","M5 10h11a4 4 0 1 1 0 8h-1"],[1,"hover-text"],[1,"input-field-container","position-relative"],[1,"floating-label"],[1,"all-select-comp-container"],[3,"data","isClear","allMarkModel","allMarkModelChange"],[1,"document-main-container"],[1,"form-container"],[1,"row"],[1,"col-md-12"],[1,"data-table-scroll-container"],[1,"table-spinner-container"],["role","status",1,"spinner-border","text-success"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["class","no-record-found-container",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"no-record-found-container"],[1,"no-record-found-img-div"],["src","../../../assets/images/no-data-found.png","alt","No data found","title","No data found"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),t._uU(6,"Dispatch"),t.qZA()(),t.TgZ(7,"li",6),t._uU(8,"Orders"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"button",9),t.NdJ("click",function(){return s.navigateBack()}),t.TgZ(12,"span"),t.O4$(),t.TgZ(13,"svg",10),t._UZ(14,"path",11)(15,"path",12)(16,"path",13),t.qZA()(),t.kcU(),t.TgZ(17,"span",14),t._uU(18,"Back"),t.qZA()()(),t.TgZ(19,"div",8)(20,"div",15)(21,"label",16),t._uU(22,"Warehouse"),t.qZA(),t.TgZ(23,"div",17)(24,"app-all-mark-select",18),t.NdJ("allMarkModelChange",function(o){return s.filterWareHouseCode=o})("allMarkModelChange",function(o){return s.onWarehouseChange(o)}),t.qZA()()()()()(),t.TgZ(25,"div",19)(26,"div",20)(27,"div",21)(28,"div",22)(29,"div",23)(30,"div",24),t._UZ(31,"div",25),t.qZA(),t.TgZ(32,"table",26)(33,"thead"),t.YNc(34,R,3,4,"tr",27),t.ALo(35,"slice"),t.qZA(),t.TgZ(36,"tbody"),t.YNc(37,F,3,4,"tr",27),t.qZA()()(),t.YNc(38,I,3,0,"div",28),t.qZA()()()()),2&i&&(t.xp6(5),t.Q6J("routerLink","/dispatch"),t.xp6(19),t.Q6J("data",s.warehouseDropdown)("isClear",!1)("allMarkModel",s.filterWareHouseCode),t.xp6(5),t.ekj("table-spinner",!s.isTableDataRetrieved)("hide-when-no-data",0==(null==s.completedPickList?null:s.completedPickList.length)),t.xp6(3),t.Q6J("dtOptions",s.dtOptions)("dtTrigger",s.dtTrigger),t.xp6(2),t.Q6J("ngForOf",t.Dn7(35,13,s.completedPickList,0,1)),t.xp6(3),t.Q6J("ngForOf",s.completedPickList),t.xp6(1),t.Q6J("ngIf",0==(null==s.completedPickList?null:s.completedPickList.length)&&s.isTableDataRetrieved))},dependencies:[c.sg,c.O5,p.rH,u.G,O.j,c.OU,c.Nd],styles:[".floating-label[_ngcontent-%COMP%]{position:absolute;top:-10px;left:8px;font-size:12px;z-index:1;background:#fdfeff;color:#9b9da4;margin-bottom:0;padding:1px 4px;border-top-left-radius:4px;border-top-right-radius:4px}"]})}return a})();var Y=n(6551),j=n(3414),m=n(6223);function H(a,l){if(1&a&&(t.TgZ(0,"tr"),t._UZ(1,"td",33),t.TgZ(2,"td"),t._UZ(3,"span",33),t.qZA(),t.TgZ(4,"td"),t._UZ(5,"span",33),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"span",33),t.qZA(),t.TgZ(8,"td",28),t._UZ(9,"span",33),t.qZA()()),2&a){const e=l.$implicit,i=l.index;t.xp6(1),t.Q6J("innerHtml",i+1,t.oJD),t.xp6(2),t.Q6J("innerHtml",(e.Material_Code||"")+" "+(e.Material_Name||""),t.oJD),t.xp6(2),t.Q6J("innerHtml",e.Part_Number||"-",t.oJD),t.xp6(2),t.Q6J("innerHtml",e.HSN_Code||"-",t.oJD),t.xp6(2),t.Q6J("innerHtml",e.Picking_Quantity||"-",t.oJD)}}const G=[{path:"",component:w,children:[{path:"",component:W},{path:"order",component:S},{path:"order-detail",component:(()=>{class a{constructor(e,i,s,r,o,h,g,_,Z){this.route=e,this.log=i,this.credential=s,this.utility=r,this.alert=o,this.warehouseApi=h,this.employeeApi=g,this.dispatchApi=_,this.pickListApi=Z,this.employeeCode="",this.pickListNumber="",this.pickListDetail={},this.pickingProducts=[],this.rackMappingList=[],this.subscription=new b.w0,this.isAllProduct=!1,this.isValidate=!1,this.pickingModal={pickingDetail:{},products:[],barCodes:[],rackMasters:[]},this.onPreInit()}onPreInit(){}isRightsExisting(){return!0}ngOnInit(){this.isRightsExisting()?(this.pickListNumber=localStorage.getItem("pick-list-number")||"",this.pickListNumber?this.onPageReady():(alert("call redirect"),this.route.navigateByUrl("/dispatch"))):this.route.navigateByUrl(d.Q.unAuthorizedUrl)}onPageReady(){this.getOrderDetail()}getOrderDetail(){this.subscription.add(this.pickListApi.getPickListDetail(this.pickListNumber).subscribe({next:e=>{this.log.log("GRN Response : ",e),this.pickListDetail=e||{},this.pickingProducts=this.pickListDetail.Picklist_Products||[]},error:e=>{this.log.error(e,"pick-list-detail","getOrderDetail")},complete:()=>{}}))}isAllChange(e=!1){(this.pickListDetail.Picklist_Products||[])?.forEach(s=>{s.isSelected=e})}getUtilityDetail(){}saveDispatch(){const e={Dispatch_Number:"",Dispatch_Date:"",Reference_Number:this.pickListDetail.Picklist_Number,Reference_Date:this.utility.getDBDateFormate(this.pickListDetail.Picklist_Date),From_Warehouse_Code:this.pickListDetail.Warehouse_Code,From_Warehouse_Name:this.pickListDetail.Warehouse_Name,From_Warehouse_Address:this.pickListDetail.Warehouse_Address||"",To_Warehouse_Code:"",To_Warehouse_Name:"",To_Warehouse_Address:"",Terms_Condition:this.pickListDetail.Terms_Condition,Remarks:this.pickListDetail.Remarks,Sub_Total:this.pickListDetail.Sub_Total||"0.00",Rounding_Off:this.pickListDetail.Rounding_Off||"0.00",Grand_Total:this.pickListDetail.Grand_Total||"0.00",Cancelled_By:"",Created_By:this.employeeCode,Dispatch_Products:[]},i=[];this.pickingProducts.forEach((s,r)=>{i.push({Dispatch_Master_Product_Id:"",Dispatch_Number:"",Line_Item_No:"",Rack_Code:"",Shelf_Code:"",Bin_Code:"",Material_Code:"",Part_Number:"",Barcode:"",HSN_Code:"",Material_Name:"",Material_Group:"",Material_Type:"",Material_Brand:"",Material_Model:"",Material_UOM:"",Base_Price:"",Discount_Amount:"",Discount_Percentage:"",Unit_Price:"",Unit_Tax_Percentage:"",Unit_Tax_Amount:"",Sell_Price:"",Quantity:"",SGST_Percentage:"",SGST_Amount:"",CGST_Percentage:"",CGST_Amount:"",IGST_Percentage:"",IGST_Amount:"",Total_Price:"",Total_Taxable_Amount:"",Total_Tax_Amount:""})}),e.Dispatch_Products=i||[],this.subscription.add(this.dispatchApi.saveDispatch(e).subscribe({next:s=>{s&&this.alert.showMixinAlert("Order Dispatched successfully !!!",null,"/dispatch")},error:s=>{this.log.error(s,"dispatch-order-detail","saveDispatch")},complete:()=>{}}))}navigateBack(){this.route.navigateByUrl("/dispatch/order")}ngOnDestroy(){localStorage.removeItem("pick-list-number"),localStorage.removeItem("pick-list-warehouse"),this.subscription?.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(p.F0),t.Y36(f.$),t.Y36(Y.T),t.Y36(T.t),t.Y36(D.c),t.Y36(v.l),t.Y36(j.G),t.Y36(k),t.Y36(y.L))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-dispatch-order-detail"]],decls:101,vars:10,consts:[[1,"breadcrumb-container"],[1,"breadcrumb-bar"],["aria-label","breadcrumb ",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb","mb-0"],["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item"],[1,"d-flex","align-items-center","gap-2"],[1,"aside-container"],["type","button",1,"all-back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","className","icon icon-tabler icon-tabler-arrow-back-up","width","24","height","24","viewBox","0 0 24 24","strokeWidth","2","stroke","currentColor","fill","none","strokeLinecap","round","strokeLinejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M9 14l-4 -4l4 -4"],["d","M5 10h11a4 4 0 1 1 0 8h-1"],[1,"hover-text"],[1,"all-button",3,"click"],[1,"ms-2"],[1,"document-main-container"],[1,"form-container"],[1,"row"],[1,"col-md-12"],[1,"col-md-4","form-group","form-field-group"],[1,"required-field"],[1,"form-input-field"],["type","text","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"page-sub-header","justify-content-between"],[1,"title"],[1,"total-table-container"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"col-md-6","form-group","form-field-group"],["cols","30","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[3,"innerHtml"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),t._uU(6,"Dispatch Order"),t.qZA()(),t.TgZ(7,"li",6),t._uU(8,"Detail"),t.qZA()()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"button",9),t.NdJ("click",function(){return s.navigateBack()}),t.TgZ(12,"span"),t.O4$(),t.TgZ(13,"svg",10),t._UZ(14,"path",11)(15,"path",12)(16,"path",13),t.qZA()(),t.kcU(),t.TgZ(17,"span",14),t._uU(18,"Back"),t.qZA()()(),t.TgZ(19,"div",8)(20,"button",15),t.NdJ("click",function(){return s.saveDispatch()}),t.TgZ(21,"span",16),t._uU(22,"Dispatch"),t.qZA()()()()(),t.TgZ(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"div",19)(28,"div",21)(29,"label")(30,"span"),t._uU(31,"PickList Number"),t.qZA(),t.TgZ(32,"span",22),t._uU(33,"*"),t.qZA()(),t.TgZ(34,"div",23)(35,"input",24),t.NdJ("ngModelChange",function(o){return s.pickListDetail.Picklist_Number=o}),t.qZA()()(),t.TgZ(36,"div",21)(37,"label")(38,"span"),t._uU(39,"PickList Date"),t.qZA()(),t.TgZ(40,"div",23)(41,"input",24),t.NdJ("ngModelChange",function(o){return s.pickListDetail.Picklist_Date=o}),t.qZA()()(),t.TgZ(42,"div",21)(43,"label")(44,"span"),t._uU(45,"Delivery Date"),t.qZA(),t.TgZ(46,"span",22),t._uU(47,"*"),t.qZA()(),t.TgZ(48,"div",23)(49,"input",24),t.NdJ("ngModelChange",function(o){return s.pickListDetail.Delivery_Date=o}),t.qZA()()(),t.TgZ(50,"div",21)(51,"label")(52,"span"),t._uU(53,"Customer"),t.qZA()(),t.TgZ(54,"div",23)(55,"input",24),t.NdJ("ngModelChange",function(o){return s.pickListDetail.Customer_Name=o}),t.qZA()()(),t.TgZ(56,"div",21)(57,"label")(58,"span"),t._uU(59,"Warehouse"),t.qZA()(),t.TgZ(60,"div",23)(61,"input",24),t.NdJ("ngModelChange",function(o){return s.pickListDetail.Warehouse_Name=o}),t.qZA()()(),t.TgZ(62,"div",21)(63,"label")(64,"span"),t._uU(65,"Warehouse Address"),t.qZA()(),t.TgZ(66,"div",23)(67,"input",24),t.NdJ("ngModelChange",function(o){return s.pickListDetail.Warehouse_Address=o}),t.qZA()()()()(),t.TgZ(68,"div",20)(69,"div",25)(70,"span",26),t._uU(71,"Products"),t.qZA()()(),t.TgZ(72,"div",20)(73,"div",27)(74,"table")(75,"thead")(76,"tr")(77,"th"),t._uU(78,"S.No"),t.qZA(),t.TgZ(79,"th"),t._uU(80,"Material"),t.qZA(),t.TgZ(81,"th"),t._uU(82,"Part Number"),t.qZA(),t.TgZ(83,"th"),t._uU(84,"HSN Code"),t.qZA(),t.TgZ(85,"th",28),t._uU(86,"Quantity"),t.qZA()()(),t.TgZ(87,"tbody"),t.YNc(88,H,10,5,"tr",29),t.qZA()()()(),t.TgZ(89,"div",20)(90,"div",30)(91,"div",31)(92,"label"),t._uU(93,"Terms and Condition"),t.qZA(),t.TgZ(94,"div",23)(95,"textarea",32),t.NdJ("ngModelChange",function(o){return s.pickListDetail.Terms_Condition=o}),t.qZA()()(),t.TgZ(96,"div",31)(97,"label"),t._uU(98,"Remarks"),t.qZA(),t.TgZ(99,"div",23)(100,"textarea",32),t.NdJ("ngModelChange",function(o){return s.pickListDetail.Remarks=o}),t.qZA()()()()()()()()),2&i&&(t.xp6(5),t.Q6J("routerLink","/dispatch"),t.xp6(30),t.Q6J("ngModel",s.pickListDetail.Picklist_Number),t.xp6(6),t.Q6J("ngModel",s.pickListDetail.Picklist_Date),t.xp6(8),t.Q6J("ngModel",s.pickListDetail.Delivery_Date),t.xp6(6),t.Q6J("ngModel",s.pickListDetail.Customer_Name),t.xp6(6),t.Q6J("ngModel",s.pickListDetail.Warehouse_Name),t.xp6(6),t.Q6J("ngModel",s.pickListDetail.Warehouse_Address),t.xp6(21),t.Q6J("ngForOf",s.pickingProducts),t.xp6(7),t.Q6J("ngModel",s.pickListDetail.Terms_Condition),t.xp6(5),t.Q6J("ngModel",s.pickListDetail.Remarks))},dependencies:[c.sg,p.rH,m.Fj,m.JJ,m.On]})}return a})()}]}];let $=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#i=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(G),p.Bz]})}return a})();var E=n(8524);let z=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#i=this.\u0275inj=t.cJS({imports:[c.ez,$,u.T,m.u5,E.m]})}return a})()}}]);
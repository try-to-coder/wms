"use strict";(self.webpackChunkwms_web_alstom=self.webpackChunkwms_web_alstom||[]).push([[754],{4754:(R,_,s)=>{s.r(_),s.d(_,{EmployeeMasterModule:()=>B});var d=s(6814),g=s(6223),c=s(2253),y=s(627),C=s(8645),M=s(7394),u=s(2962),e=s(4946),f=s(3414),v=s(2553),b=s(3359),E=s(6593),T=s(6551),Z=s(6815),A=s(3251),D=s(2307),O=s(3580);function w(i,p){if(1&i&&(e.ynx(0),e._UZ(1,"img",76)(2,"img",77),e.BQk()),2&i){const o=e.oxw();e.xp6(1),e.Q6J("src",o.imageSrc,e.LSH)}}function J(i,p){1&i&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",78),e._UZ(2,"path",79)(3,"path",80)(4,"polyline",81)(5,"line",82),e.qZA(),e.kcU(),e.TgZ(6,"span",83),e._uU(7,"Drag and drop or click to upload"),e.qZA(),e.BQk())}function x(i,p){if(1&i){const o=e.EpF();e.TgZ(0,"div",84)(1,"a",85),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.removeEmployeeLogo())}),e.O4$(),e.TgZ(2,"svg",86),e._UZ(3,"path",79)(4,"line",87)(5,"line",88)(6,"line",89)(7,"path",90)(8,"path",91),e.qZA()()()}}const h=function(i){return{"form-invalid-input":i}};let I=(()=>{class i{get employeeID(){return this._employeeID}set employeeID(o){this._employeeID=o,this.onEmployeeIdChange()}constructor(o,l,t,r,a,n,m){this.employee=o,this.log=l,this.sanitizer=t,this.credential=r,this.utility=a,this.alert=n,this.validationService=m,this.toggleEvent=new e.vpe,this.imageUpload=!1,this.isEmpImageAvailable=!1,this.imageBase64="",this.employee_Id="",this.generatedEmployeeCode="",this.employeeMaster={},this.softwareRightsList=[],this.rightsGroupDropdown=[],this.employeeCode=this.employee_Id,this.subscription=new M.w0,this.defaultImageSource="",this._employeeID="",this.validation={isInvalid:!1,isLoader:!1}}ngOnInit(){this.onPageReady(),this.getPageUtility()}onPageReady(){this.employeeCode=this.credential.getCredentialsData("Employee_Master_Id"),this.getSoftwareRightsList()}getPageUtility(){this.generateEmployeeCode()}generateEmployeeCode(){this.subscription.add(this.employee.generateEmployeeCode().subscribe({next:o=>{this.generatedEmployeeCode=o.Employee_Master_Id||"",this.log.log(o)},error:o=>{this.log.log(o)}}))}onEmployeeIdChange(){this.log.log("employee id change"),this.employeeID?this.getEmployeeDetail():(this.employeeMaster={},this.removeEmployeeLogo())}getEmployeeDetail(){this.subscription.add(this.employee.getEmployee(this.employeeID).subscribe({next:o=>{this.log.log("employee read : ",o),this.employeeMaster=o||{},this.setEmployeeDetail()},error:o=>{this.log.error(o,"employee-detail","getEmployeeDetail")},complete:()=>{}}))}setEmployeeDetail(){this.employeeMaster.Employee_Image?(this.isEmpImageAvailable=!0,this.imageSrc=this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+this.employeeMaster.Employee_Image)):(this.isEmpImageAvailable=!1,this.log.log("emp image not available, setting default image"),this.imageSrc=this.defaultImageSource);const o=this.employeeMaster.Date_Of_Birth.split("-").reverse().join("-"),l=this.employeeMaster.Date_Of_Join.split("-").reverse().join("-");this.employeeMaster.Date_Of_Birth=o,this.employeeMaster.Date_Of_Join=l}saveOrUpdateEmployee(){if(this.validation.isInvalid=!1,this.employeeMaster.Employee_Code=this.generatedEmployeeCode||"",!this.employeeMaster.Employee_Code||!this.employeeMaster.First_Name||!this.employeeMaster.Last_Name)return this.validation.isInvalid=!0,void this.alert.toastAlert("warning","Enter mandatory fields");if(this.employeeMaster.Email&&(this.validation.isInvalid=!this.utility.isValidEmail(this.employeeMaster.Email),this.validation.isInvalid))return void this.alert.toastAlert("warning","Invalid Email");this.validation.isLoader=!0,this.imageBase64&&(this.employeeMaster.Employee_Image=this.imageBase64);const o=this.employeeID?this.employee.updateEmployee(this.employeeID,this.employeeMaster):this.employee.saveEmployee(this.employeeMaster);this.subscription.add(o.subscribe({next:l=>{this.log.log("employee response :",l),l&&(this.alert.showMixinAlert(this.employeeID?"Employee updated successfully !!!":"Employee saved successfully !!!"),this.close(!0));const t=setTimeout(()=>{this.validation.isLoader=!1,clearTimeout(t)},1e3)},error:l=>{this.log.error(l,"employee-detail","saveOrUpdateEmployee");const t=setTimeout(()=>{this.validation.isLoader=!1,clearTimeout(t)},1e3)}}))}getSoftwareRightsList(){this.subscription.add(this.employee.getSoftwareRightsList().subscribe({next:o=>{this.log.log("software rights list",o);const l=o||[];this.softwareRightsList=l,this.rightsGroupDropdown=this.utility.getSelectOptions(l,"Software_Rights_Group","Software_Rights_Group")},error:o=>{this.log.error(o,"employee-detail","getSoftwareRightsList",!0)},complete:()=>{}}))}onLogoChange(o){if(o.target.files&&o.target.files[0])if(o.target.files[0].type&&"image"===o.target.files[0].type.split("/")[0])if(o.target.files[0].size<=1024e3){this.imageBase64="";const r=new FileReader;r.onload=a=>{this.log.log("events : ",a),this.imageSrc=a.target.result;const m=this.imageSrc.split(",");this.imageBase64=m.length>1?m[1]:"",this.isEmpImageAvailable=!0},r.readAsDataURL(o.target.files[0]),o.target.value=""}else o.target.value="",this.alert.toastAlert("error","Max image upload size is 1MB only");else o.target.value="",this.alert.toastAlert("error","Could not support selected image format. Choose valid image file ")}removeEmployeeLogo(){this.isEmpImageAvailable=!1,this.imageBase64="",this.employeeMaster.Employee_Image=""}numberValidation(o,l,t){if(13!=o.keyCode)return this.validationService.customValidation(o,l,t,"^[0-9]+$")}close(o=!1){this.toggleEvent.emit(o),this.employeeMaster={}}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(f.G),e.Y36(v.$),e.Y36(E.H7),e.Y36(T.T),e.Y36(Z.t),e.Y36(A.c),e.Y36(D.R))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee-detail"]],inputs:{employeeID:"employeeID"},outputs:{toggleEvent:"toggleEvent"},decls:188,vars:43,consts:[[1,"modal-content"],[1,"modal-header"],[1,"d-flex","align-items-center","justify-content-between","w-100"],["id","staticBackdropLabel",1,"modal-title"],[3,"innerHtml"],[1,"d-flex","align-items-center","gap-2"],["type","button","aria-label","Close",1,"all-close-button",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-md-6","col-lg-4","col-xl-4","profile-section"],[1,"form-group","form-field-group","image-choose-container"],["for","warehouse-upload",1,"image-container-card"],[1,"image-container-image-card"],[4,"ngIf"],["data-validation-info","Enter the field",1,"form-input-field"],["type","file","accept","image/*","id","warehouse-upload",1,"d-none",3,"change"],["class","image-remove-icon",4,"ngIf"],[1,"col-md-12","form-group","form-field-group"],["for","employee-code"],[1,"required-field"],["data-validation-info","Enter the field",1,"form-input-field",3,"ngClass"],["id","employee-code","name","employee-code","type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["for","employee-first-name"],["id","employee-first-name","name","employee-first-name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-last-name"],["id","employee-last-name","name","employee-last-name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"col-md-12","col-lg-6","col-xl-6","form-group","form-field-group"],["for","employee-gender"],["type","text","id","employee-gender","name","employee-gender",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-dob"],["type","date","id","employee-dob","name","employee-dob",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-4","col-xl-4","employee-profile-section"],["for","employee-email"],["type","email","autocomplete","new-password","id","employee-email","name","employee-email",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-emergency-mail"],["type","text","id","employee-emergency-mail","name","employee-emergency-mail",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-password"],["id","employee-password","name","employee-password","autocomplete","new-password","type","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-6","col-xl-6","form-group","form-field-group"],["for","employee-date-of-join"],["type","date","id","employee-date-of-join","name","employee-date-of-join",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-mobile"],["type","text","id","employee-mobile","name","employee-mobile",1,"form-control",3,"ngModel","ngModelChange","keypress"],["phone",""],["for","employee-department"],["type","text","id","employee-department","name","employee-department",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-designation"],["type","text","id","employee-designation","name","employee-designation",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-softwarerights"],[1,"all-select-comp-container"],[3,"data","isClear","allMarkModel","allMarkModelChange"],[1,"col-md-6","col-lg-12","col-xl-6","form-group","form-field-group"],["type","time",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-4","col-xl-4","address-section"],["for","employee-ad1"],["id","employee-ad1","name","employee-ad1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-ad2"],["id","employee-ad2","name","employee-ad2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-location"],["id","employee-location","name","employee-location","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-city"],["type","text","id","employee-city","name","employee-city",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-state"],["type","text","id","employee-state","name","employee-state",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-country"],["type","text","id","employee-country","name","employee-country",1,"form-control",3,"ngModel","ngModelChange"],["for","pincode-code"],["type","text","id","pincode-code","name","pincode-code",1,"form-control",3,"ngModel","ngModelChange","keypress"],["pincode",""],["for","employee-emergency-number"],["type","text","id","employee-emergency-number","name","employee-emergency-number",1,"form-control",3,"ngModel","ngModelChange","keypress"],["emergency",""],["for","employee-remarks"],["name","employee-remarks","cols","30","rows","1",1,"form-control",3,"ngModel","ngModelChange"],["alt","Employee Image",3,"src"],["src","\n                ","alt",""],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-cloud-upload"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"],["points","9 15 12 12 15 15"],["x1","12","y1","12","x2","12","y2","21"],[1,"d-block","w-100","text-center"],[1,"image-remove-icon"],[1,"d-block","text-danger",2,"cursor","pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-trash"],["x1","4","y1","7","x2","20","y2","7"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"]],template:function(l,t){if(1&l){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._UZ(4,"span",4),e.qZA(),e.TgZ(5,"div",5)(6,"button",6),e.NdJ("click",function(){return t.close()}),e._uU(7,"Close"),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return t.saveOrUpdateEmployee()}),e._UZ(9,"span",4),e.qZA()()()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12)(15,"div",13),e.YNc(16,w,3,1,"ng-container",14),e.YNc(17,J,8,0,"ng-container",14),e.qZA(),e.TgZ(18,"div",15)(19,"input",16),e.NdJ("change",function(n){return t.onLogoChange(n)}),e.qZA()()(),e.YNc(20,x,9,0,"div",17),e.qZA(),e.TgZ(21,"div",18)(22,"label",19)(23,"span"),e._uU(24,"Employee Code"),e.qZA(),e.TgZ(25,"span",20),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"div",21)(28,"input",22),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Employee_Code=n}),e.qZA()()(),e.TgZ(29,"div",18)(30,"label",23)(31,"span"),e._uU(32,"First Name"),e.qZA(),e.TgZ(33,"span",20),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"div",21)(36,"input",24),e.NdJ("ngModelChange",function(n){return t.employeeMaster.First_Name=n}),e.qZA()()(),e.TgZ(37,"div",18)(38,"label",25)(39,"span"),e._uU(40,"Last Name"),e.qZA(),e.TgZ(41,"span",20),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"div",21)(44,"input",26),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Last_Name=n}),e.qZA()()(),e.TgZ(45,"div",27)(46,"div",9)(47,"div",28)(48,"label",29)(49,"span"),e._uU(50,"Gender"),e.qZA()(),e.TgZ(51,"div",15)(52,"input",30),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Gender=n}),e.qZA()()(),e.TgZ(53,"div",28)(54,"label",31)(55,"span"),e._uU(56,"DOB"),e.qZA()(),e.TgZ(57,"div",15)(58,"input",32),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Date_Of_Birth=n}),e.qZA()()()()()(),e.TgZ(59,"div",33)(60,"div",18)(61,"label",34)(62,"span"),e._uU(63,"Email ID (user name)"),e.qZA()(),e.TgZ(64,"div",15)(65,"input",35),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Email=n}),e.qZA()()(),e.TgZ(66,"div",18)(67,"label",36)(68,"span"),e._uU(69,"Emergency Mail ID"),e.qZA()(),e.TgZ(70,"div",15)(71,"input",37),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Emergency_Email=n}),e.qZA()()(),e.TgZ(72,"div",18)(73,"label",38)(74,"span"),e._uU(75,"Password"),e.qZA()(),e.TgZ(76,"div",15)(77,"input",39),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Password=n}),e.qZA()()(),e.TgZ(78,"div",27)(79,"div",9)(80,"div",40)(81,"label",41)(82,"span"),e._uU(83,"Date of Joining"),e.qZA()(),e.TgZ(84,"div",15)(85,"input",42),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Date_Of_Join=n}),e.qZA()()(),e.TgZ(86,"div",40)(87,"label",43)(88,"span"),e._uU(89,"Mobile"),e.qZA()(),e.TgZ(90,"div",15)(91,"input",44,45),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Phone=n})("keypress",function(n){e.CHM(r);const m=e.MAs(92);return e.KtG(t.numberValidation(n,m.value,10))}),e.qZA()()()()(),e.TgZ(93,"div",27)(94,"div",9)(95,"div",40)(96,"label",46)(97,"span"),e._uU(98,"Department"),e.qZA()(),e.TgZ(99,"div",15)(100,"input",47),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Department=n}),e.qZA()()(),e.TgZ(101,"div",40)(102,"label",48)(103,"span"),e._uU(104,"Designation"),e.qZA()(),e.TgZ(105,"div",15)(106,"input",49),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Designation=n}),e.qZA()()()(),e.TgZ(107,"div",18)(108,"label",50)(109,"span"),e._uU(110,"Software Rights Group"),e.qZA()(),e.TgZ(111,"div",51)(112,"app-all-mark-select",52),e.NdJ("allMarkModelChange",function(n){return t.employeeMaster.Software_Rights_Group=n}),e.qZA()()()(),e.TgZ(113,"div",27)(114,"div",9)(115,"div",53)(116,"label")(117,"span"),e._uU(118,"Shift Starting Time"),e.qZA()(),e.TgZ(119,"div",15)(120,"input",54),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Shift_Start_Timing=n}),e.qZA()()(),e.TgZ(121,"div",53)(122,"label")(123,"span"),e._uU(124,"Shift Ending Time"),e.qZA()(),e.TgZ(125,"div",15)(126,"input",54),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Shift_End_Timing=n}),e.qZA()()()()()(),e.TgZ(127,"div",55)(128,"div",18)(129,"label",56)(130,"span"),e._uU(131,"Address Line1"),e.qZA()(),e.TgZ(132,"div",15)(133,"input",57),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Address_Line_1=n}),e.qZA()()(),e.TgZ(134,"div",18)(135,"label",58)(136,"span"),e._uU(137,"Address Line2"),e.qZA()(),e.TgZ(138,"div",15)(139,"input",59),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Address_Line_2=n}),e.qZA()()(),e.TgZ(140,"div",18)(141,"label",60)(142,"span"),e._uU(143,"Location"),e.qZA()(),e.TgZ(144,"div",15)(145,"input",61),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Location=n}),e.qZA()()(),e.TgZ(146,"div",18)(147,"label",62)(148,"span"),e._uU(149,"City/District"),e.qZA()(),e.TgZ(150,"div",15)(151,"input",63),e.NdJ("ngModelChange",function(n){return t.employeeMaster.City_District=n}),e.qZA()()(),e.TgZ(152,"div",27)(153,"div",9)(154,"div",40)(155,"label",64)(156,"span"),e._uU(157,"State"),e.qZA()(),e.TgZ(158,"div",15)(159,"input",65),e.NdJ("ngModelChange",function(n){return t.employeeMaster.State=n}),e.qZA()()(),e.TgZ(160,"div",40)(161,"label",66)(162,"span"),e._uU(163,"Country"),e.qZA()(),e.TgZ(164,"div",15)(165,"input",67),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Country=n}),e.qZA()()()(),e.TgZ(166,"div",9)(167,"div",53)(168,"label",68)(169,"span"),e._uU(170,"Postal Code"),e.qZA()(),e.TgZ(171,"div",15)(172,"input",69,70),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Pincode=n})("keypress",function(n){e.CHM(r);const m=e.MAs(173);return e.KtG(t.numberValidation(n,m.value,6))}),e.qZA()()(),e.TgZ(174,"div",53)(175,"label",71)(176,"span"),e._uU(177,"Emergency ph No"),e.qZA()(),e.TgZ(178,"div",15)(179,"input",72,73),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Emergency_Phone=n})("keypress",function(n){e.CHM(r);const m=e.MAs(180);return e.KtG(t.numberValidation(n,m.value,10))}),e.qZA()()()(),e.TgZ(181,"div",18)(182,"label",74)(183,"span"),e._uU(184,"Remarks"),e.qZA()(),e.TgZ(185,"div",15)(186,"textarea",75),e.NdJ("ngModelChange",function(n){return t.employeeMaster.Remarks=n}),e._uU(187,"            "),e.qZA()()()()()()()()}2&l&&(e.xp6(4),e.Q6J("innerHtml",t.employeeID?"Update Employee":"Add Employee",e.oJD),e.xp6(5),e.Q6J("innerHtml",t.employeeID?"Update":"Save",e.oJD),e.xp6(7),e.Q6J("ngIf",t.isEmpImageAvailable),e.xp6(1),e.Q6J("ngIf",!t.isEmpImageAvailable),e.xp6(3),e.Q6J("ngIf",t.isEmpImageAvailable),e.xp6(1),e.ekj("d-none",!t.employeeID),e.xp6(6),e.Q6J("ngClass",e.VKq(37,h,t.validation.isInvalid&&!t.employeeMaster.Employee_Code)),e.xp6(1),e.Q6J("disabled",!!t.employeeID)("ngModel",t.employeeMaster.Employee_Code),e.xp6(7),e.Q6J("ngClass",e.VKq(39,h,t.validation.isInvalid&&!t.employeeMaster.First_Name)),e.xp6(1),e.Q6J("ngModel",t.employeeMaster.First_Name),e.xp6(7),e.Q6J("ngClass",e.VKq(41,h,t.validation.isInvalid&&!t.employeeMaster.Last_Name)),e.xp6(1),e.Q6J("ngModel",t.employeeMaster.Last_Name),e.xp6(8),e.Q6J("ngModel",t.employeeMaster.Gender),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Date_Of_Birth),e.xp6(7),e.Q6J("ngModel",t.employeeMaster.Email),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Emergency_Email),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Password),e.xp6(8),e.Q6J("ngModel",t.employeeMaster.Date_Of_Join),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Phone),e.xp6(9),e.Q6J("ngModel",t.employeeMaster.Department),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Designation),e.xp6(6),e.Q6J("data",t.rightsGroupDropdown)("isClear",!1)("allMarkModel",t.employeeMaster.Software_Rights_Group),e.xp6(8),e.Q6J("ngModel",t.employeeMaster.Shift_Start_Timing),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Shift_End_Timing),e.xp6(7),e.Q6J("ngModel",t.employeeMaster.Address_Line_1),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Address_Line_2),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Location),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.City_District),e.xp6(8),e.Q6J("ngModel",t.employeeMaster.State),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Country),e.xp6(7),e.Q6J("ngModel",t.employeeMaster.Pincode),e.xp6(7),e.Q6J("ngModel",t.employeeMaster.Emergency_Phone),e.xp6(7),e.Q6J("ngModel",t.employeeMaster.Remarks))},dependencies:[d.mk,d.O5,g.Fj,g.JJ,g.On,O.j],styles:[".upload[_ngcontent-%COMP%]{height:157px}.image-upload[_ngcontent-%COMP%]{position:relative}.image[_ngcontent-%COMP%]{position:absolute;width:360px;height:180px;top:23px;left:0}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{appearance:none;display:none}.image-choose-container[_ngcontent-%COMP%]{position:relative}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]{margin-top:12px;display:block;overflow:hidden;transition:all 2s ease-in;border:2px dashed #ccc;border-radius:4px;width:100%;height:190px;cursor:pointer}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]   .image-container-image-card[_ngcontent-%COMP%]{height:180px;display:flex;flex-wrap:wrap;align-content:center;justify-content:center}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]   .image-container-image-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:148px;max-width:100%}.image-choose-container[_ngcontent-%COMP%]   .image-remove-icon[_ngcontent-%COMP%]{display:none;bottom:10px;position:absolute;left:0;width:100%;text-align:center}.image-choose-container[_ngcontent-%COMP%]:hover   .image-remove-icon[_ngcontent-%COMP%]{display:block}.image-upload-container[_ngcontent-%COMP%]{position:relative;padding:1rem 0}.image-upload-container[_ngcontent-%COMP%]   .image-upload-box[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:4px;width:100%;height:180px;display:flex;flex-wrap:wrap;align-content:center;justify-content:center}.upload[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;height:180px}"]})}return i})();function k(i,p){if(1&i&&(e.TgZ(0,"th"),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&i){const o=p.$implicit,l=e.oxw(2);e.xp6(2),e.Oqu(l.removeUS(o.key))}}function U(i,p){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,k,3,1,"th",23),e.ALo(2,"keyvalue"),e.qZA()),2&i){const o=p.$implicit,l=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,o,l.originalOrder))}}function P(i,p){if(1&i&&(e.TgZ(0,"td"),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&i){const o=p.$implicit;e.xp6(2),e.Oqu(o.value)}}function q(i,p){if(1&i){const o=e.EpF();e.TgZ(0,"tr",32),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.onEditEmployee(r))}),e.YNc(1,P,3,1,"td",23),e.ALo(2,"keyvalue"),e.qZA()}if(2&i){const o=p.$implicit,l=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,o,l.originalOrder))}}function L(i,p){1&i&&(e.TgZ(0,"div",33)(1,"div",34),e._UZ(2,"img",35),e.qZA()())}const N=[{path:"",component:(()=>{class i{constructor(o,l,t,r){this.route=o,this.employee=l,this.log=t,this.dataTable=r,this.dtOptions={},this.dtTrigger=new C.x,this.employeeMaster={},this.employeeList=[],this.subscription=new M.w0,this.selectedEmployeeId="",this.isTableDataRetrieved=!1,this.originalOrder=(a,n)=>0,this.onPreInit()}onPreInit(){}isRightsExisting(){return!0}ngOnInit(){this.isRightsExisting()?(this.getBasicUtility(),this.onPageReady()):this.route.navigateByUrl(u.Q.unAuthorizedUrl)}onPageReady(){this.getEmployeeList()}getEmployeeList(o=!1){this.subscription.add(this.employee.getEmployeeslist().subscribe({next:l=>{this.log.log("employee list response : ",l),this.setEmployeeList(l||[],o);const r=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(r)},u.Q.tableLoaderDuration)},error:l=>{this.log.error(l,"employee-master","getEmployeeList");const t=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(t)},u.Q.tableLoaderDuration)},complete:()=>{}}))}setEmployeeList(o,l=!1){if(this.employeeList=o||[],this.employeeList.length)if(l)this.reRender();else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const t=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(t)},100)}}onEditEmployee(o){this.log.log("selected employee",o);const l=o||{};l.Employee_Master_Id?(this.selectedEmployeeId=l.Employee_Master_Id,this.openEmployeeModal()):this.log.log("employee list is Empty")}onAddEmployee(){this.selectedEmployeeId="",this.openEmployeeModal()}openEmployeeModal(){document.getElementById("employee-detail-open-modal")?.click()}closeEmployeeModal(o=!1){document.getElementById("employee-detail-close-modal")?.click(),this.selectedEmployeeId="",o&&this.getEmployeeList(!0)}reRender(){if(this.dtElement.dtInstance)this.dtElement.dtInstance.then(o=>{o.destroy(),this.dtTrigger.next();const l=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(l)},100)});else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const o=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(o)},100)}}removeUS(o){return o.replace(/_/g," ")}getBasicUtility(){this.dtOptions=this.dataTable.getDataTableOptions()}navigateBack(){this.route.navigateByUrl("/home")}ngOnDestroy(){this.dtTrigger.unsubscribe(),this.subscription.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(c.F0),e.Y36(f.G),e.Y36(v.$),e.Y36(b.n))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee-master"]],viewQuery:function(l,t){if(1&l&&e.Gf(y.G,5),2&l){let r;e.iGM(r=e.CRH())&&(t.dtElement=r.first)}},decls:41,vars:14,consts:[[1,"breadcrumb-container"],[1,"breadcrumb-bar"],["aria-label","breadcrumb ",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb","mb-0"],["aria-current","page",1,"breadcrumb-item"],[1,"d-flex","align-items-center","gap-2"],[1,"aside-container"],["type","button",1,"all-back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","className","icon icon-tabler icon-tabler-arrow-back-up","width","24","height","24","viewBox","0 0 24 24","strokeWidth","2","stroke","currentColor","fill","none","strokeLinecap","round","strokeLinejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M9 14l-4 -4l4 -4"],["d","M5 10h11a4 4 0 1 1 0 8h-1"],[1,"hover-text"],[1,"d-flex"],[1,"all-button",3,"click"],[1,"document-main-container"],[1,"form-container"],[1,"row"],[1,"col-md-12"],[1,"data-table-scroll-container"],[1,"table-spinner-container"],["role","status",1,"spinner-border","text-success"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],["class","no-record-found-container",4,"ngIf"],["id","employee-detail-model","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],[3,"employeeID","toggleEvent"],[1,"d-none"],["id","employee-detail-open-modal","data-bs-toggle","modal","data-bs-target","#employee-detail-model"],["id","employee-detail-close-modal","data-bs-dismiss","modal","data-bs-target","#employee-detail-model","aria-label","Close"],[3,"click"],[1,"no-record-found-container"],[1,"no-record-found-img-div"],["src","../../../assets/images/no-data-found.png","alt","No data found","title","No data found"]],template:function(l,t){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4),e._uU(5,"Employee"),e.qZA()()()(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e.NdJ("click",function(){return t.navigateBack()}),e.TgZ(9,"span"),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9)(12,"path",10)(13,"path",11),e.qZA()(),e.kcU(),e.TgZ(14,"span",12),e._uU(15,"Back"),e.qZA()()(),e.TgZ(16,"div",6)(17,"div",13)(18,"button",14),e.NdJ("click",function(){return t.onAddEmployee()}),e.TgZ(19,"span"),e._uU(20,"Add Employee"),e.qZA()()()()()(),e.TgZ(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20),e._UZ(27,"div",21),e.qZA(),e.TgZ(28,"table",22)(29,"thead"),e.YNc(30,U,3,4,"tr",23),e.ALo(31,"slice"),e.qZA(),e.TgZ(32,"tbody"),e.YNc(33,q,3,4,"tr",24),e.qZA()()(),e.YNc(34,L,3,0,"div",25),e.qZA()()()(),e.TgZ(35,"div",26)(36,"div",27)(37,"app-employee-detail",28),e.NdJ("toggleEvent",function(a){return t.closeEmployeeModal(a)}),e.qZA()()(),e.TgZ(38,"div",29),e._UZ(39,"button",30)(40,"button",31),e.qZA()),2&l&&(e.xp6(25),e.ekj("table-spinner",!t.isTableDataRetrieved)("hide-when-no-data",0==(null==t.employeeList?null:t.employeeList.length)),e.xp6(3),e.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),e.xp6(2),e.Q6J("ngForOf",e.Dn7(31,10,t.employeeList,0,1)),e.xp6(3),e.Q6J("ngForOf",t.employeeList),e.xp6(1),e.Q6J("ngIf",0==(null==t.employeeList?null:t.employeeList.length)&&t.isTableDataRetrieved),e.xp6(3),e.Q6J("employeeID",t.selectedEmployeeId))},dependencies:[d.sg,d.O5,y.G,I,d.OU,d.Nd],styles:[".search-icon[_ngcontent-%COMP%]{top:10px;right:10px}.upload[_ngcontent-%COMP%]{height:180px}.image-upload[_ngcontent-%COMP%]{position:relative}.image[_ngcontent-%COMP%]{position:absolute;width:360px;height:180px;top:23px;left:0}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{appearance:none;display:none}.modal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#001c8e}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:none}.modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #001C8E}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:15px}"]})}return i})()}];let Q=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(N),c.Bz]})}return i})();var S=s(8524);let B=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({imports:[d.ez,g.u5,Q,g.UX,y.T,S.m]})}return i})()}}]);
"use strict";(self.webpackChunkwms_wip_web=self.webpackChunkwms_wip_web||[]).push([[674],{2674:(D,Z,d)=>{d.r(Z),d.d(Z,{WarehouseMasterModule:()=>E});var c=d(6814),w=d(6223),M=d(2253),W=d(627),v=d(8645),l=d(7394),o=d(2962),e=d(4946),u=d(7981),g=d(2553),h=d(3359),f=d(3251),_=d(6593),m=d(6551),b=d(2307);function y(n,T){if(1&n){const a=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.deleteWarehouse())}),e._UZ(1,"span",7),e.qZA()}2&n&&(e.oxw(),e.xp6(1),e.Q6J("innerHtml","Delete",e.oJD))}function C(n,T){if(1&n&&(e.ynx(0),e._UZ(1,"img",68),e.BQk()),2&n){const a=e.oxw();e.xp6(1),e.Q6J("src",a.imageSrc,e.LSH)}}function k(n,T){1&n&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",69),e._UZ(2,"path",70)(3,"path",71)(4,"polyline",72)(5,"line",73),e.qZA(),e.kcU(),e.TgZ(6,"span",74),e._uU(7,"Drag and drop or click to upload"),e.qZA(),e.BQk())}function I(n,T){if(1&n){const a=e.EpF();e.TgZ(0,"div",75)(1,"a",76),e.NdJ("click",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.removeWarehouseLogo())}),e.O4$(),e.TgZ(2,"svg",77),e._UZ(3,"path",70)(4,"line",78)(5,"line",79)(6,"line",80)(7,"path",81)(8,"path",82),e.qZA()()()}}const A=function(n){return{"form-invalid-input":n}};let O=(()=>{class n{get warehouseID(){return this._warehouseID}set warehouseID(a){this._warehouseID=a,this.onWarehouseIDChange()}constructor(a,r,t,p,i,s){this.warehouseApi=a,this.log=r,this.alert=t,this.sanitizer=p,this.credential=i,this.validationService=s,this.toggleEvent=new e.vpe,this._warehouseID="",this.imageBase64="",this.imageUpload=!1,this.isWarehouseImageAvailable=!1,this.warehouseMaster={},this.subscription=new l.w0,this.validation={isInvalid:!1,isLoader:!1}}ngOnInit(){this.onPageReady()}onPageReady(){}onWarehouseIDChange(){this.log.log("warehouse id change: ",this.warehouseID),this.warehouseID?this.getWarehouseDetail():(this.warehouseMaster={},this.removeWarehouseLogo())}getWarehouseDetail(){this.subscription.add(this.warehouseApi.getWarehouse(this.warehouseID).subscribe({next:a=>{this.log.log("material id",a),a&&(this.warehouseMaster=a||{},this.setWarehouseDetail())},error:a=>{this.log.error(a,"warehouse-master-detail","getWarehouseDetail")}}))}setWarehouseDetail(){this.warehouseMaster.Warehouse_Image?(this.isWarehouseImageAvailable=!0,this.imageSrc=this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+this.warehouseMaster.Warehouse_Image)):(this.isWarehouseImageAvailable=!1,this.log.log("warehouse image not available, setting default image"),this.imageSrc=null)}onLogoChange(a){if(a.target.files&&a.target.files[0])if(a.target.files[0].type&&"image"===a.target.files[0].type.split("/")[0])if(a.target.files[0].size<=1024e3){this.imageBase64="";const p=new FileReader;p.onload=i=>{this.log.log("events : ",i),this.imageSrc=i.target.result;const x=this.imageSrc.split(",");this.imageBase64=x.length>1?x[1]:"",this.isWarehouseImageAvailable=!0},p.readAsDataURL(a.target.files[0]),a.target.value=""}else a.target.value="",this.alert.toastAlert("error","Max image upload size is 1MB only");else a.target.value="",this.alert.toastAlert("error","Could not support selected image format. Choose valid image file ")}removeWarehouseLogo(){this.isWarehouseImageAvailable=!1,this.imageBase64="",this.warehouseMaster.Warehouse_Image=""}numberValidation(a,r,t){if(13!=a.keyCode)return this.validationService.customValidation(a,r,t,"^[0-9]+$")}saveOrUpdateWarehouse(){if(this.validation.isInvalid=!1,this.validation.isLoader=!0,this.imageBase64&&(this.warehouseMaster.Warehouse_Image=this.imageBase64),!this.warehouseMaster.Warehouse_Code||!this.warehouseMaster.Warehouse_Name)return this.validation.isInvalid=!0,this.validation.isLoader=!1,void this.alert.toastAlert("warning","Enter mandatory fields");const a=this.warehouseID?this.warehouseApi.updateWarehouse(this.warehouseID,this.warehouseMaster):this.warehouseApi.addWarehouse(this.warehouseMaster);this.subscription.add(a.subscribe({next:r=>{r&&(this.alert.showMixinAlert(this.warehouseID?"Warehouse updated successfully !!!":"Warehouse saved successfully !!!"),this.close(!0))},error:r=>{this.log.error(r,"warehouse-master-detail","saveOrUpdateWarehouse")},complete:()=>{}}))}deleteWarehouse(){if(this.validation.isInvalid=!1,this.validation.isLoader=!0,!this.warehouseID)return this.validation.isInvalid=!0,this.validation.isLoader=!1,void this.alert.toastAlert("warning","Enter mandatory fields");const a=this.warehouseID?this.warehouseApi.deleteWareHouse(this.warehouseID):this.warehouseApi.addWarehouse(this.warehouseMaster);this.subscription.add(a.subscribe({next:r=>{r&&(this.alert.showMixinAlert(this.warehouseID?"Warehouse deleted successfully !!!":"Warehouse updated successfully !!!"),this.close(!0))},error:r=>{this.log.error(r,"warehouse-master-detail","deleteWarehouse")},complete:()=>{}}))}close(a=!1){this.toggleEvent.emit(a)}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(u.l),e.Y36(g.$),e.Y36(f.c),e.Y36(_.H7),e.Y36(m.T),e.Y36(b.R))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-warehouse-master-detail"]],inputs:{warehouseID:"warehouseID"},outputs:{toggleEvent:"toggleEvent"},decls:139,vars:30,consts:[[1,"modal-content"],[1,"modal-header"],[1,"d-flex","align-items-center","justify-content-between","w-100"],["id","staticBackdropLabel",1,"modal-title",3,"innerHtml"],[1,"d-flex","align-items-center","gap-2"],["type","button",1,"all-close-button",3,"click"],[1,"all-button","ms-3",3,"click"],[3,"innerHtml"],["class","all-delete-button ms-3",3,"click",4,"ngIf"],[1,"modal-body"],[1,"row"],[1,"col-12","col-md-4"],[1,"col-md-12","form-group","form-field-group"],["for","warehouse-code"],[1,"required-field"],["data-validation-info","Enter the field",1,"form-input-field",3,"ngClass"],["type","text","name"," warehouse-code","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],["for","warehouse-ad1"],["data-validation-info","Enter the field",1,"form-input-field"],["type","text","name","warehouse-ad1","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],["for","warehosue-ad2"],["type","text","name","warehosue-ad2","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],["for","warehouse-contactPerson"],["type","text","name","warehouse-contactPerson","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12"],["for","warehouse-notes form-group form-field-group"],["name","warehouse-notes","cols","30","rows","6",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-8"],[1,"col-12","col-md-6","form-group","form-field-group"],["for","warehouse-name"],["type","text","name","warehouse-name","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],["for","warehouse-location"],["type","text","name","warehouse-location","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-4","col-lg-3","form-group","form-field-group"],["for","warehouse-totalCapacity"],["type","text","name","warehouse-totalCapacity","appNumber","","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-6","col-xl-3","form-group","form-field-group"],["for","warehosue-reserveCapacity"],["type","text","name","warehosue-reserveCapacity","appNumber","","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],["for","warehouse-totalRacks"],["type","text","name","warehouse-totalRacks","maxlength","100","appNumber","",1,"form-control",3,"ngModel","ngModelChange"],["for","track"],["type","text","name","track","appNumber","","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],["for","warehosue-totalBins"],["type","text","name","warehosue-totalBins","appNumber","","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],["for","warehouse-rackCapacity"],["type","text","name","warehouse-rackCapacity","appNumber","","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],["for","warehouse-binCapacity"],["type","text","name","warehouse-binCapacity","appNumber","","maxlength","30",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-4","col-lg-6","col-xl-3","form-group","form-field-group"],["for","warehouse-tEmployee"],["type","text","name","warehosue-tEmployee","appNumber","","maxlength","100",1,"form-control",3,"ngModel","ngModelChange","keypress"],["employee",""],["for","warehosue-phone"],["type","text","name","warehouse-phone","appNumber","","maxlength","10",1,"form-control",3,"ngModel","ngModelChange","keypress"],["phone",""],[1,"col-md-4","col-lg-6","form-group","form-field-group"],["for","warehouse-email"],["type","email","name","warehouse-email",1,"form-control",3,"ngModel","ngModelChange"],["for","warehouse-designation"],["type","text","name","warehouse-designation","maxlength","100",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","form-group","form-field-group","image-choose-container"],["for","warehouse-upload",1,"image-container-card"],[1,"image-container-image-card"],[4,"ngIf"],["type","file","accept","image/*","id","warehouse-upload",1,"d-none",3,"change"],["class","image-remove-icon",4,"ngIf"],[1,"all-delete-button","ms-3",3,"click"],["alt","Organization Image",3,"src"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-cloud-upload"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"],["points","9 15 12 12 15 15"],["x1","12","y1","12","x2","12","y2","21"],[1,"d-block","w-100","text-center"],[1,"image-remove-icon"],[1,"d-block","text-danger",2,"cursor","pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-trash"],["x1","4","y1","7","x2","20","y2","7"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"]],template:function(r,t){if(1&r){const p=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),e._UZ(4,"h5",3),e.qZA(),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return t.close()}),e._uU(7,"Close"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return t.saveOrUpdateWarehouse()}),e._UZ(9,"span",7),e.qZA(),e.YNc(10,y,2,1,"button",8),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",10)(15,"div",12)(16,"label",13)(17,"span"),e._uU(18,"Warehouse Code"),e.qZA(),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"div",15)(22,"input",16),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Warehouse_Code=s}),e.qZA()()(),e.TgZ(23,"div",12)(24,"label",17)(25,"span"),e._uU(26,"Address Line 1"),e.qZA()(),e.TgZ(27,"div",18)(28,"input",19),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Address_Line_1=s}),e.qZA()()(),e.TgZ(29,"div",12)(30,"label",20)(31,"span"),e._uU(32,"Address Line 2"),e.qZA()(),e.TgZ(33,"div",18)(34,"input",21),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Address_Line_2=s}),e.qZA()()(),e.TgZ(35,"div",12)(36,"label",22)(37,"span"),e._uU(38,"Contact Person Name"),e.qZA()(),e.TgZ(39,"div",18)(40,"input",23),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Contact_Person=s}),e.qZA()()(),e.TgZ(41,"div",24)(42,"label",25)(43,"span"),e._uU(44,"Notes"),e.qZA()(),e.TgZ(45,"div",18)(46,"textarea",26),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Notes=s}),e.qZA()()()()(),e.TgZ(47,"div",27)(48,"div",10)(49,"div",28)(50,"label",29)(51,"span"),e._uU(52,"Warehouse Name"),e.qZA(),e.TgZ(53,"span",14),e._uU(54,"*"),e.qZA()(),e.TgZ(55,"div",15)(56,"input",30),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Warehouse_Name=s}),e.qZA()()(),e.TgZ(57,"div",28)(58,"label",31)(59,"span"),e._uU(60,"Location"),e.qZA()(),e.TgZ(61,"div",18)(62,"input",32),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Location=s}),e.qZA()()(),e.TgZ(63,"div",33)(64,"label",34)(65,"span"),e._uU(66,"Total Capapcity"),e.qZA()(),e.TgZ(67,"div",18)(68,"input",35),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Total_Capapcity=s}),e.qZA()()(),e.TgZ(69,"div",36)(70,"label",37)(71,"span"),e._uU(72,"Reserve Capacity"),e.qZA()(),e.TgZ(73,"div",18)(74,"input",38),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Reserve_Capapcity=s}),e.qZA()()(),e.TgZ(75,"div",33)(76,"label",39)(77,"span"),e._uU(78,"Total no of racks"),e.qZA()(),e.TgZ(79,"div",18)(80,"input",40),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Total_Racks=s}),e.qZA()()(),e.TgZ(81,"div",33)(82,"label",41)(83,"span"),e._uU(84,"Total no of racks"),e.qZA()(),e.TgZ(85,"div",18)(86,"input",42),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Total_Racks=s}),e.qZA()()(),e.TgZ(87,"div",33)(88,"label",43)(89,"span"),e._uU(90,"Total no of Bins"),e.qZA()(),e.TgZ(91,"div",18)(92,"input",44),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Total_Bins=s}),e.qZA()()(),e.TgZ(93,"div",33)(94,"label",45)(95,"span"),e._uU(96,"Rack Capacity"),e.qZA()(),e.TgZ(97,"div",18)(98,"input",46),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Rack_Capacity=s}),e.qZA()()(),e.TgZ(99,"div",33)(100,"label",47)(101,"span"),e._uU(102,"Bin Capacity"),e.qZA()(),e.TgZ(103,"div",18)(104,"input",48),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Bin_Capacity=s}),e.qZA()()(),e.TgZ(105,"div",49)(106,"label",50)(107,"span"),e._uU(108,"Total no of Employee"),e.qZA()(),e.TgZ(109,"div",18)(110,"input",51,52),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Total_Employees=s})("keypress",function(s){e.CHM(p);const x=e.MAs(111);return e.KtG(t.numberValidation(s,x.value,5))}),e.qZA()()(),e.TgZ(112,"div",49)(113,"label",53)(114,"span"),e._uU(115,"Phone"),e.qZA()(),e.TgZ(116,"input",54,55),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Phone=s})("keypress",function(s){e.CHM(p);const x=e.MAs(117);return e.KtG(t.numberValidation(s,x.value,10))}),e.qZA(),e._UZ(118,"div",18),e.qZA(),e.TgZ(119,"div",56)(120,"label",57)(121,"span"),e._uU(122,"Email"),e.qZA()(),e.TgZ(123,"div",18)(124,"input",58),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Email=s}),e.qZA()()(),e.TgZ(125,"div",49)(126,"label",59)(127,"span"),e._uU(128,"Designation"),e.qZA()(),e.TgZ(129,"div",18)(130,"input",60),e.NdJ("ngModelChange",function(s){return t.warehouseMaster.Designation=s}),e.qZA()()(),e.TgZ(131,"div",61)(132,"label",62)(133,"div",63),e.YNc(134,C,2,1,"ng-container",64),e.YNc(135,k,8,0,"ng-container",64),e.qZA(),e.TgZ(136,"div",18)(137,"input",65),e.NdJ("change",function(s){return t.onLogoChange(s)}),e.qZA()()(),e.YNc(138,I,9,0,"div",66),e.qZA()()()()()()}2&r&&(e.xp6(4),e.Q6J("innerHtml",t.warehouseID?"Update Warehouse":"Save Warehouse",e.oJD),e.xp6(5),e.Q6J("innerHtml",t.warehouseID?"Update":"Save",e.oJD),e.xp6(1),e.Q6J("ngIf",t.warehouseID),e.xp6(11),e.Q6J("ngClass",e.VKq(26,A,t.validation.isInvalid&&!t.warehouseMaster.Warehouse_Code)),e.xp6(1),e.Q6J("ngModel",t.warehouseMaster.Warehouse_Code),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Address_Line_1),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Address_Line_2),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Contact_Person),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Notes),e.xp6(9),e.Q6J("ngClass",e.VKq(28,A,t.validation.isInvalid&&!t.warehouseMaster.Warehouse_Name)),e.xp6(1),e.Q6J("ngModel",t.warehouseMaster.Warehouse_Name),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Location),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Total_Capapcity),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Reserve_Capapcity),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Total_Racks),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Total_Racks),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Total_Bins),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Rack_Capacity),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Bin_Capacity),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Total_Employees),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Phone),e.xp6(8),e.Q6J("ngModel",t.warehouseMaster.Email),e.xp6(6),e.Q6J("ngModel",t.warehouseMaster.Designation),e.xp6(4),e.Q6J("ngIf",t.isWarehouseImageAvailable),e.xp6(1),e.Q6J("ngIf",!t.isWarehouseImageAvailable),e.xp6(3),e.Q6J("ngIf",t.isWarehouseImageAvailable))},dependencies:[c.mk,c.O5,w.Fj,w.JJ,w.nD,w.On],styles:[".image-choose-container[_ngcontent-%COMP%]{position:relative}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]{margin-top:1rem;display:block;overflow:hidden;transition:all 2s ease-in;border:2px dashed #ccc;border-radius:4px;width:100%;height:167px;cursor:pointer}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]   .image-container-image-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-wrap:wrap;align-content:center;justify-content:center}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]   .image-container-image-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:148px;max-width:100%}.image-choose-container[_ngcontent-%COMP%]   .image-remove-icon[_ngcontent-%COMP%]{display:none;bottom:10px;position:absolute;left:0;width:100%;text-align:center}.image-choose-container[_ngcontent-%COMP%]:hover   .image-remove-icon[_ngcontent-%COMP%]{display:block}.image-upload-container[_ngcontent-%COMP%]{position:relative;padding:1rem 0}.image-upload-container[_ngcontent-%COMP%]   .image-upload-box[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:4px;width:100%;height:180px;display:flex;flex-wrap:wrap;align-content:center;justify-content:center}"]})}return n})();function q(n,T){if(1&n&&(e.TgZ(0,"th"),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&n){const a=T.$implicit,r=e.oxw(2);e.xp6(2),e.Oqu(r.removeUS(a.key))}}function U(n,T){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,q,3,1,"th",24),e.ALo(2,"keyvalue"),e.qZA()),2&n){const a=T.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,a,r.originalOrder))}}function R(n,T){if(1&n&&(e.TgZ(0,"td"),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&n){const a=T.$implicit;e.xp6(2),e.Oqu(a.value)}}function J(n,T){if(1&n){const a=e.EpF();e.TgZ(0,"tr",33),e.NdJ("click",function(){const p=e.CHM(a).$implicit,i=e.oxw();return e.KtG(i.onEditWarehouse(p))}),e.YNc(1,R,3,1,"td",24),e.ALo(2,"keyvalue"),e.qZA()}if(2&n){const a=T.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,a,r.originalOrder))}}function N(n,T){1&n&&(e.TgZ(0,"div",34)(1,"div",35),e._UZ(2,"img",36),e.qZA()())}const P=[{path:"",component:(()=>{class n{constructor(a,r,t,p){this.route=a,this.warehouse=r,this.log=t,this.dataTable=p,this.dtOptions={},this.dtTrigger=new v.x,this.warehouseList=[],this.warehouseMaster={},this.subscription=new l.w0,this.selectedWarehouseID="",this.isTableDataRetrieved=!1,this.originalOrder=(i,s)=>0,this.onPreInit()}onPreInit(){}isRightsExisting(){return!0}ngOnInit(){this.isRightsExisting()?(this.getBasicUtility(),this.onPageReady()):this.route.navigateByUrl(o.Q.unAuthorizedUrl)}onPageReady(){this.getWarehouseList()}getWarehouseList(a=!1){this.subscription.add(this.warehouse.getWarehouseList().subscribe({next:r=>{this.log.log("material list response :",r),this.setWarehouseList(r||[],a);const p=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(p)},o.Q.tableLoaderDuration)},error:r=>{this.log.error(r,"warehouse-master","getWarehouseList");const t=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(t)},o.Q.tableLoaderDuration)}}))}setWarehouseList(a,r=!1){if(this.warehouseList=a,this.warehouseList.length)if(r)this.reRender();else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const t=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(t)},100)}}reRender(){if(this.dtElement.dtInstance)this.dtElement.dtInstance.then(a=>{a.destroy(),this.dtTrigger.next();const r=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(r)},100)});else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const a=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(a)},100)}}onEditWarehouse(a){this.log.log("selected warehouse : ",a);const r=a||{};r.Warehouse_Master_Id?(this.selectedWarehouseID=r.Warehouse_Master_Id,this.openWarehouseModal()):this.log.log("warehouse ID is empty!")}onAddWarehouse(){this.selectedWarehouseID="",this.openWarehouseModal()}openWarehouseModal(){document.getElementById("warehouse-master-open-modal")?.click()}closeWarehouseModal(a=!1){document.getElementById("warehouse-master-close-modal")?.click(),this.selectedWarehouseID="",a&&(this.isTableDataRetrieved=!1,this.getWarehouseList(!0))}removeUS(a){return a.replace(/_/g," ")}getBasicUtility(){this.dtOptions=this.dataTable.getDataTableOptions()}navigateBack(){this.route.navigateByUrl("/home")}ngOnDestroy(){this.dtTrigger.unsubscribe(),this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(M.F0),e.Y36(u.l),e.Y36(g.$),e.Y36(h.n))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-warehouse-master"]],viewQuery:function(r,t){if(1&r&&e.Gf(W.G,5),2&r){let p;e.iGM(p=e.CRH())&&(t.dtElement=p.first)}},decls:41,vars:14,consts:[[1,"breadcrumb-container"],[1,"breadcrumb-bar"],["aria-label","breadcrumb ",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb","mb-0"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","align-items-center","gap-2"],[1,"aside-container","d-flex"],["type","button",1,"all-back-button","me-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","className","icon icon-tabler icon-tabler-arrow-back-up","width","24","height","24","viewBox","0 0 24 24","strokeWidth","2","stroke","currentColor","fill","none","strokeLinecap","round","strokeLinejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M9 14l-4 -4l4 -4"],["d","M5 10h11a4 4 0 1 1 0 8h-1"],[1,"hover-text"],["routerLink","/rack-master",1,"all-button","outline","me-2"],[1,"all-button",3,"click"],[1,"ms-2"],[1,"document-main-container"],[1,"form-container"],[1,"row"],[1,"col-md-12"],[1,"data-table-scroll-container"],[1,"table-spinner-container"],["role","status",1,"spinner-border","text-success"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],["class","no-record-found-container",4,"ngIf"],["id","warehouse-master-modal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],[3,"warehouseID","toggleEvent"],[1,"d-none"],["id","warehouse-master-open-modal","data-bs-toggle","modal","data-bs-target","#warehouse-master-modal"],["id","warehouse-master-close-modal","data-bs-dismiss","modal","data-bs-target","#warehouse-master-modal","aria-label","Close"],[3,"click"],[1,"no-record-found-container"],[1,"no-record-found-img-div"],["src","../../../assets/images/no-data-found.png","alt","No data found","title","No data found"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4),e._uU(5,"Warehouse"),e.qZA()()()(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e.NdJ("click",function(){return t.navigateBack()}),e.TgZ(9,"span"),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9)(12,"path",10)(13,"path",11),e.qZA()(),e.kcU(),e.TgZ(14,"span",12),e._uU(15,"Back"),e.qZA()(),e.TgZ(16,"button",13),e._uU(17,"Rack Master"),e.qZA(),e.TgZ(18,"button",14),e.NdJ("click",function(){return t.onAddWarehouse()}),e.TgZ(19,"span",15),e._uU(20,"Add Warehouse"),e.qZA()()()()(),e.TgZ(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"div",21),e._UZ(27,"div",22),e.qZA(),e.TgZ(28,"table",23)(29,"thead"),e.YNc(30,U,3,4,"tr",24),e.ALo(31,"slice"),e.qZA(),e.TgZ(32,"tbody"),e.YNc(33,J,3,4,"tr",25),e.qZA()()(),e.YNc(34,N,3,0,"div",26),e.qZA()()()(),e.TgZ(35,"div",27)(36,"div",28)(37,"app-warehouse-master-detail",29),e.NdJ("toggleEvent",function(i){return t.closeWarehouseModal(i)}),e.qZA()()(),e.TgZ(38,"div",30),e._UZ(39,"button",31)(40,"button",32),e.qZA()),2&r&&(e.xp6(25),e.ekj("table-spinner",!t.isTableDataRetrieved)("hide-when-no-data",0==(null==t.warehouseList?null:t.warehouseList.length)),e.xp6(3),e.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),e.xp6(2),e.Q6J("ngForOf",e.Dn7(31,10,t.warehouseList,0,1)),e.xp6(3),e.Q6J("ngForOf",t.warehouseList),e.xp6(1),e.Q6J("ngIf",0==(null==t.warehouseList?null:t.warehouseList.length)&&t.isTableDataRetrieved),e.xp6(3),e.Q6J("warehouseID",t.selectedWarehouseID))},dependencies:[c.sg,c.O5,M.rH,W.G,O,c.OU,c.Nd],styles:[".search-icon[_ngcontent-%COMP%]{top:10px;right:10px}.modal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#001c8e}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:none}.modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #001C8E}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:15px}"]})}return n})()}];let L=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#a=this.\u0275inj=e.cJS({imports:[M.Bz.forChild(P),M.Bz]})}return n})(),E=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#a=this.\u0275inj=e.cJS({imports:[c.ez,L,w.UX,W.T,w.u5]})}return n})()},3359:(D,Z,d)=>{d.d(Z,{n:()=>w});var c=d(4946);let w=(()=>{class M{constructor(){}getDataTableOptions(v,l,o){const u=o||"Data Export",g=v??!0;let f={};return f=l?{pagingType:"full_numbers",pageLength:10,retrieve:!0,destroy:!0,processing:!0,bAutoWidth:!1,autoFill:!0,order:[[g?1:0,"asc"]],columnDefs:[g?{targets:[0],visible:!1,orderable:!1}:{targets:[0],visible:!0,orderable:!0}],info:!0,lengthMenu:[[10,25,50,-1],["10 Records","25 Records","50 Records","Show all"]],language:{paginate:{previous:'<i class="fas fa-caret-left datatable-nav-icon"></i>',next:'<i class="fas fa-caret-right datatable-nav-icon"></i>',first:'<i class="fas fa-step-backward"></i>',last:'<i class="fas fa-step-forward"></i>'},buttons:{copyTitle:"",copyKeys:"",copySuccess:""}},oLanguage:{sLengthMenu:" _MENU_ ",sInfo:"Showing _START_ to _END_ of _TOTAL_ Records",sSearch:"",searchPlaceholder:"Search"},dom:"lBfrtip",buttons:[{extend:"collection",className:"collection-tool-button",text:"Export",autoClose:!0,collectionLayout:"filter-column-layout",buttons:[{extend:"excelHtml5",filename:u,title:"",exportOptions:{columns:":visible"}},{extend:"print",header:!0,exportOptions:{columns:":visible"}},{extend:"csvHtml5",filename:u,title:"",exportOptions:{columns:":visible"}},{extend:"copy",header:!0,exportOptions:{columns:":visible"}},{extend:"pdfHtml5",filename:u,title:"",exportOptions:{columns:":visible"},orientation:"landscape"},{extend:"colvis",text:"Filter Columns",columns:":not(.noVis)"}]}]}:{pagingType:"full_numbers",pageLength:10,processing:!0,bAutoWidth:!1,autoFill:!0,order:[[g?1:0,"asc"]],columnDefs:[g?{targets:[0],visible:!1,orderable:!1}:{targets:[0],visible:!0,orderable:!0}],lengthMenu:[[10,25,50,-1],["10 Records","25 Records","50 Records","Show all"]],language:{paginate:{previous:'<i class="fas fa-caret-left datatable-nav-icon"></i>',next:'<i class="fas fa-caret-right datatable-nav-icon"></i>',first:'<i class="fas fa-step-backward"></i>',last:'<i class="fas fa-step-forward"></i>'}},oLanguage:{sLengthMenu:" _MENU_ ",sInfo:"Showing _START_ to _END_ of _TOTAL_ Records",sSearch:"",searchPlaceholder:"Search"}},f}static#e=this.\u0275fac=function(l){return new(l||M)};static#t=this.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},7981:(D,Z,d)=>{d.d(Z,{l:()=>W});var c=d(4946),w=d(8273),M=d(2553);let W=(()=>{class v{constructor(o,e){this.apiHandler=o,this.log=e}getWarehouseList(){return this.apiHandler.getRequest("warehouse/list",null,"warehouse master : read",!0)}gerWarehouseDropdown(){return this.apiHandler.getRequest("warehouse",null,"warehouse master : read",!0)}getWarehouse(o){return this.apiHandler.getRequest(`warehouse/${o}`,null,"get update warehouse : get")}addWarehouse(o){return this.apiHandler.postRequest("warehouse",o,"warehouse master : add")}updateWarehouse(o,e){return this.apiHandler.putRequest(`warehouse/${o}`,e,"warehouse master : update")}deleteWareHouse(o){return this.apiHandler.deleteRequest(`warehouse/${o}`,"warehouse master : delete")}getRackList(o){return this.apiHandler.getRequest(`warehouse/attributes/rack/list/${o}`,null,"Rack master : read")}getRackMaster(o,e){return this.apiHandler.getRequest(`warehouse/attributes/rack/${o}/${e}`,null,"Rack master detail: read")}getRackMappingList(o){return this.apiHandler.getRequest(`warehouse/attributes/mapping/list/${o}`,null,"Rack master : read")}getRackMappingDropdown(o){return this.apiHandler.getRequest(`warehouse/attributes/mapping/${o}`,null,"Rack master : read")}getRackDropdown(o){return this.apiHandler.getRequest("warehouse/attributes/rack",null,"warehouse : rack dropdown")}addRackMaster(o){return this.apiHandler.postRequest("warehouse/attributes/rack",o,"warehouse : save rack master")}updateRackMaster(o,e){return this.apiHandler.putRequest(`warehouse/attributes/rack/${o}`,e,"warehouse : save rack master")}deleteRackMaster(o){return this.apiHandler.deleteRequest(`warehouse/attributes/rack/${o}`,"warehouse : delete rack master")}static#e=this.\u0275fac=function(e){return new(e||v)(c.LFG(w.k),c.LFG(M.$))};static#t=this.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},627:(D,Z,d)=>{d.d(Z,{G:()=>M,T:()=>v});var c=d(4946),M=function(){function l(o,e,u){this.el=o,this.vcr=e,this.renderer=u,this.dtOptions={}}return l.prototype.ngOnInit=function(){var o=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){o.displayTable(e)}):this.displayTable(null)},l.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},l.prototype.displayTable=function(o){var e=this;o&&(this.dtOptions=o),this.dtInstance=new Promise(function(u,g){Promise.resolve(e.dtOptions).then(function(h){0===Object.keys(h).length&&0===$("tbody tr",e.el.nativeElement).length?g("Both the table and dtOptions cannot be empty"):(h.columns&&h.columns.forEach(function(_){var m;""===(null!==(m=_.id)&&void 0!==m?m:"").trim()&&(_.id=e.getColumnUniqueId())}),setTimeout(function(){var _={rowCallback:function(m,b,y){if(h.columns){var C=h.columns;e.applyNgPipeTransform(m,C),e.applyNgRefTemplate(m,C,b)}h.rowCallback&&h.rowCallback(m,b,y)}};_=Object.assign({},h,_),e.dt=$(e.el.nativeElement).DataTable(_),u(e.dt)}))})})},l.prototype.applyNgPipeTransform=function(o,e){e.filter(function(g){return g.ngPipeInstance&&!g.ngTemplateRef}).forEach(function(g){var h=g.ngPipeInstance,f=g.ngPipeArgs||[],_=e.filter(function(C){return!1!==C.visible}).findIndex(function(C){return C.id===g.id}),m=o.childNodes.item(_),b=$(m).text(),y=h.transform.apply(h,function(l,o,e){if(e||2===arguments.length)for(var h,u=0,g=o.length;u<g;u++)(h||!(u in o))&&(h||(h=Array.prototype.slice.call(o,0,u)),h[u]=o[u]);return l.concat(h||Array.prototype.slice.call(o))}([b],f,!1));$(m).text(y)})},l.prototype.applyNgRefTemplate=function(o,e,u){var g=this;e.filter(function(f){return f.ngTemplateRef&&!f.ngPipeInstance}).forEach(function(f){var _,m=(_=f.ngTemplateRef).ref,b=_.context,y=e.filter(function(A){return!1!==A.visible}).findIndex(function(A){return A.id===f.id}),C=o.childNodes.item(y);$(C).html("");var k=Object.assign({},b,b?.userData,{adtData:u}),I=g.vcr.createEmbeddedView(m,k);g.renderer.appendChild(C,I.rootNodes[0])})},l.prototype.getColumnUniqueId=function(){for(var o="",u=0;u<6;u++){var g=Math.floor(62*Math.random());o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(g)}return o.trim()},l.\u0275fac=function(e){return new(e||l)(c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(c.Qsj))},l.\u0275dir=c.lG2({type:l,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),l}(),W=d(6814),v=function(){function l(){}return l.forRoot=function(){return{ngModule:l}},l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=c.oAB({type:l}),l.\u0275inj=c.cJS({imports:[W.ez]}),l}()}}]);
"use strict";(self.webpackChunkwms_wip_web=self.webpackChunkwms_wip_web||[]).push([[754],{4754:(j,_,r)=>{r.r(_),r.d(_,{EmployeeMasterModule:()=>R});var d=r(6814),c=r(6223),y=r(2253),u=r(627),C=r(8645),f=r(7394),h=r(2962),e=r(4946),M=r(3414),v=r(2553),b=r(3359),E=r(6593),T=r(6551),Z=r(6815),D=r(3251),A=r(2307),O=r(3580);function w(l,p){if(1&l){const o=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.deleteEmployee())}),e._UZ(1,"span",4),e.qZA()}2&l&&(e.oxw(),e.xp6(1),e.Q6J("innerHtml","Delete",e.oJD))}function I(l,p){if(1&l&&(e.ynx(0),e._UZ(1,"img",69)(2,"img",70),e.BQk()),2&l){const o=e.oxw();e.xp6(1),e.Q6J("src",o.imageSrc,e.LSH)}}function x(l,p){1&l&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",71),e._UZ(2,"path",72)(3,"path",73)(4,"polyline",74)(5,"line",75),e.qZA(),e.kcU(),e.TgZ(6,"span",76),e._uU(7,"Drag and drop or click to upload"),e.qZA(),e.BQk())}function J(l,p){if(1&l){const o=e.EpF();e.TgZ(0,"div",77)(1,"a",78),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.removeEmployeeLogo())}),e.O4$(),e.TgZ(2,"svg",79),e._UZ(3,"path",72)(4,"line",80)(5,"line",81)(6,"line",82)(7,"path",83)(8,"path",84),e.qZA()()()}}const g=function(l){return{"form-invalid-input":l}};let k=(()=>{class l{get employeeID(){return this._employeeID}set employeeID(o){this._employeeID=o,this.onEmployeeIdChange()}constructor(o,n,t,s,a,i,m){this.employee=o,this.log=n,this.sanitizer=t,this.credential=s,this.utility=a,this.alert=i,this.validationService=m,this.toggleEvent=new e.vpe,this.imageUpload=!1,this.isEmpImageAvailable=!1,this.imageBase64="",this.employee_Id="",this.generatedEmployeeCode="",this.employeeMaster={},this.softwareRightsList=[],this.rightsGroupDropdown=[],this.employeeCode=this.employee_Id,this.subscription=new f.w0,this.defaultImageSource="",this._employeeID="",this.validation={isInvalid:!1,isLoader:!1}}ngOnInit(){this.onPageReady(),this.getPageUtility()}onPageReady(){this.employeeCode=this.credential.getCredentialsData("Employee_Master_Id"),this.getSoftwareRightsList()}getPageUtility(){this.generateEmployeeCode()}generateEmployeeCode(){this.subscription.add(this.employee.generateEmployeeCode().subscribe({next:o=>{this.generatedEmployeeCode=o.Employee_Code||"",this.log.log(o)},error:o=>{this.log.log(o)}}))}onEmployeeIdChange(){this.log.log("employee id change"),this.employeeID?this.getEmployeeDetail():(this.employeeMaster={},this.removeEmployeeLogo())}getEmployeeDetail(){this.subscription.add(this.employee.getEmployee(this.employeeID).subscribe({next:o=>{this.log.log("employee read : ",o),this.employeeMaster=o||{},this.setEmployeeDetail()},error:o=>{this.log.error(o,"employee-detail","getEmployeeDetail")},complete:()=>{}}))}setEmployeeDetail(){this.employeeMaster.Employee_Image?(this.isEmpImageAvailable=!0,this.imageSrc=this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+this.employeeMaster.Employee_Image)):(this.isEmpImageAvailable=!1,this.log.log("emp image not available, setting default image"),this.imageSrc=this.defaultImageSource);const o=this.employeeMaster.Date_Of_Birth.split("-").reverse().join("-"),n=this.employeeMaster.Date_Of_Join.split("-").reverse().join("-");this.employeeMaster.Date_Of_Birth=o,this.employeeMaster.Date_Of_Join=n}saveOrUpdateEmployee(){if(this.validation.isInvalid=!1,this.employeeMaster.Employee_Code=this.generatedEmployeeCode||"",!this.employeeMaster.Employee_Code||!this.employeeMaster.First_Name||!this.employeeMaster.Last_Name)return this.validation.isInvalid=!0,void this.alert.toastAlert("warning","Enter mandatory fields");this.validation.isLoader=!0,this.imageBase64&&(this.employeeMaster.Employee_Image=this.imageBase64);const o=this.employeeID?this.employee.updateEmployee(this.employeeID,this.employeeMaster):this.employee.saveEmployee(this.employeeMaster);this.subscription.add(o.subscribe({next:n=>{this.log.log("employee response :",n),n&&(this.alert.showMixinAlert(this.employeeID?"Employee updated successfully !!!":"Employee saved successfully !!!"),this.close(!0));const t=setTimeout(()=>{this.validation.isLoader=!1,clearTimeout(t)},1e3)},error:n=>{this.log.error(n,"employee-detail","saveOrUpdateEmployee");const t=setTimeout(()=>{this.validation.isLoader=!1,clearTimeout(t)},1e3)}}))}deleteEmployee(){if(this.validation.isInvalid=!1,!this.employeeID)return this.validation.isInvalid=!0,void this.alert.toastAlert("warning","Enter mandatory fields");this.validation.isLoader=!0;const o=this.employeeID?this.employee.deleteEmployee(this.employeeID):this.employee.saveEmployee(this.employeeMaster);this.subscription.add(o.subscribe({next:n=>{this.log.log("employee response :",n),n&&(this.alert.showMixinAlert("Employee deleted successfully !!!"),this.close(!0));const t=setTimeout(()=>{this.validation.isLoader=!1,clearTimeout(t)},1e3)},error:n=>{this.log.error(n,"employee-detail","deleteEmployee");const t=setTimeout(()=>{this.validation.isLoader=!1,clearTimeout(t)},1e3)}}))}getSoftwareRightsList(){this.subscription.add(this.employee.getSoftwareRightsList().subscribe({next:o=>{this.log.log("software rights list",o);const n=o||[];this.softwareRightsList=n,this.rightsGroupDropdown=this.utility.getSelectOptions(n,"Software_Rights_Group","Software_Rights_Group")},error:o=>{this.log.error(o,"employee-detail","getSoftwareRightsList",!0)},complete:()=>{}}))}onLogoChange(o){if(o.target.files&&o.target.files[0])if(o.target.files[0].type&&"image"===o.target.files[0].type.split("/")[0])if(o.target.files[0].size<=1024e3){this.imageBase64="";const s=new FileReader;s.onload=a=>{this.log.log("events : ",a),this.imageSrc=a.target.result;const m=this.imageSrc.split(",");this.imageBase64=m.length>1?m[1]:"",this.isEmpImageAvailable=!0},s.readAsDataURL(o.target.files[0]),o.target.value=""}else o.target.value="",this.alert.toastAlert("error","Max image upload size is 1MB only");else o.target.value="",this.alert.toastAlert("error","Could not support selected image format. Choose valid image file ")}removeEmployeeLogo(){this.isEmpImageAvailable=!1,this.imageBase64="",this.employeeMaster.Employee_Image=""}numberValidation(o,n,t){if(13!=o.keyCode)return this.validationService.customValidation(o,n,t,"^[0-9]+$")}close(o=!1){this.toggleEvent.emit(o),this.employeeMaster={}}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(M.G),e.Y36(v.$),e.Y36(E.H7),e.Y36(T.T),e.Y36(Z.t),e.Y36(D.c),e.Y36(A.R))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-detail"]],inputs:{employeeID:"employeeID"},outputs:{toggleEvent:"toggleEvent"},decls:168,vars:49,consts:[[1,"modal-content"],[1,"modal-header"],[1,"d-flex","align-items-center","justify-content-between","w-100"],["id","staticBackdropLabel",1,"modal-title"],[3,"innerHtml"],[1,"d-flex","align-items-center","gap-2"],["type","button","aria-label","Close",1,"all-close-button",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],["class","btn btn-danger","type","button",3,"click",4,"ngIf"],[1,"modal-body"],[1,"row"],[1,"col-md-6","col-lg-4","col-xl-4","profile-section"],[1,"form-group","form-field-group","image-choose-container"],["for","warehouse-upload",1,"image-container-card"],[1,"image-container-image-card"],[4,"ngIf"],["data-validation-info","Enter the field",1,"form-input-field"],["type","file","accept","image/*","id","warehouse-upload",1,"d-none",3,"change"],["class","image-remove-icon",4,"ngIf"],[1,"col-md-12","form-group","form-field-group"],["for","employee-code"],[1,"required-field"],["data-validation-info","Enter the field",1,"form-input-field",3,"ngClass"],["id","employee-code","name","employee-code","type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["for","employee-first-name"],["id","employee-first-name","name","employee-first-name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-last-name"],["id","employee-last-name","name","employee-last-name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-4","col-xl-4","employee-profile-section"],["for","employee-email"],["type","email","autocomplete","new-password","id","employee-email","name","employee-email",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-password"],["id","employee-password","name","employee-password","autocomplete","new-password","type","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"col-md-6","col-lg-6","col-xl-6","form-group","form-field-group"],["for","employee-date-of-join"],["type","date","id","employee-date-of-join","name","employee-date-of-join",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-mobile"],["type","text","id","employee-mobile","name","employee-mobile",1,"form-control",3,"ngModel","ngModelChange","keypress"],["phone",""],["for","employee-department"],["type","text","id","employee-department","name","employee-department",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-designation"],["type","text","id","employee-designation","name","employee-designation",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-softwarerights"],[1,"all-select-comp-container",3,"ngClass"],[3,"data","isClear","allMarkModel","allMarkModelChange"],[1,"col-md-6","col-lg-12","col-xl-6","form-group","form-field-group"],["type","time",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-4","col-xl-4","address-section"],["for","employee-ad1"],["id","employee-ad1","name","employee-ad1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-ad2"],["id","employee-ad2","name","employee-ad2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-location"],["id","employee-location","name","employee-location","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-city"],["type","text","id","employee-city","name","employee-city",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-state"],["type","text","id","employee-state","name","employee-state",1,"form-control",3,"ngModel","ngModelChange"],["for","employee-country"],["type","text","id","employee-country","name","employee-country",1,"form-control",3,"ngModel","ngModelChange"],["for","pincode-code"],["type","text","id","pincode-code","name","pincode-code",1,"form-control",3,"ngModel","ngModelChange","keypress"],["pincode",""],["for","employee-emergency-number"],["type","text","id","employee-emergency-number","name","employee-emergency-number",1,"form-control",3,"ngModel","ngModelChange","keypress"],["emergency",""],["type","button",1,"btn","btn-danger",3,"click"],["alt","Employee Image",3,"src"],["src","\n                ","alt",""],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-cloud-upload"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"],["points","9 15 12 12 15 15"],["x1","12","y1","12","x2","12","y2","21"],[1,"d-block","w-100","text-center"],[1,"image-remove-icon"],[1,"d-block","text-danger",2,"cursor","pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-trash"],["x1","4","y1","7","x2","20","y2","7"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"]],template:function(n,t){if(1&n){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._UZ(4,"span",4),e.qZA(),e.TgZ(5,"div",5)(6,"button",6),e.NdJ("click",function(){return t.close()}),e._uU(7,"Close"),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return t.saveOrUpdateEmployee()}),e._UZ(9,"span",4),e.qZA(),e.YNc(10,w,2,1,"button",8),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13)(16,"div",14),e.YNc(17,I,3,1,"ng-container",15),e.YNc(18,x,8,0,"ng-container",15),e.qZA(),e.TgZ(19,"div",16)(20,"input",17),e.NdJ("change",function(i){return t.onLogoChange(i)}),e.qZA()()(),e.YNc(21,J,9,0,"div",18),e.qZA(),e.TgZ(22,"div",19)(23,"label",20)(24,"span"),e._uU(25,"Employee Code"),e.qZA(),e.TgZ(26,"span",21),e._uU(27,"*"),e.qZA()(),e.TgZ(28,"div",22)(29,"input",23),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Employee_Code=i}),e.qZA()()(),e.TgZ(30,"div",19)(31,"label",24)(32,"span"),e._uU(33,"First Name"),e.qZA(),e.TgZ(34,"span",21),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"div",22)(37,"input",25),e.NdJ("ngModelChange",function(i){return t.employeeMaster.First_Name=i}),e.qZA()()(),e.TgZ(38,"div",19)(39,"label",26)(40,"span"),e._uU(41,"Last Name"),e.qZA(),e.TgZ(42,"span",21),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"div",22)(45,"input",27),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Last_Name=i}),e.qZA()()()(),e.TgZ(46,"div",28)(47,"div",19)(48,"label",29)(49,"span"),e._uU(50,"User Name"),e.qZA(),e.TgZ(51,"span",21),e._uU(52,"*"),e.qZA()(),e.TgZ(53,"div",22)(54,"input",30),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Email=i}),e.qZA()()(),e.TgZ(55,"div",19)(56,"label",31)(57,"span"),e._uU(58,"Password"),e.qZA(),e.TgZ(59,"span",21),e._uU(60,"*"),e.qZA()(),e.TgZ(61,"div",22)(62,"input",32),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Password=i}),e.qZA()()(),e.TgZ(63,"div",33)(64,"div",10)(65,"div",34)(66,"label",35)(67,"span"),e._uU(68,"Date of Joining"),e.qZA()(),e.TgZ(69,"div",16)(70,"input",36),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Date_Of_Join=i}),e.qZA()()(),e.TgZ(71,"div",34)(72,"label",37)(73,"span"),e._uU(74,"Mobile"),e.qZA()(),e.TgZ(75,"div",16)(76,"input",38,39),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Phone=i})("keypress",function(i){e.CHM(s);const m=e.MAs(77);return e.KtG(t.numberValidation(i,m.value,10))}),e.qZA()()()()(),e.TgZ(78,"div",33)(79,"div",10)(80,"div",34)(81,"label",40)(82,"span"),e._uU(83,"Department"),e.qZA()(),e.TgZ(84,"div",16)(85,"input",41),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Department=i}),e.qZA()()(),e.TgZ(86,"div",34)(87,"label",42)(88,"span"),e._uU(89,"Designation"),e.qZA()(),e.TgZ(90,"div",16)(91,"input",43),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Designation=i}),e.qZA()()()(),e.TgZ(92,"div",19)(93,"label",44)(94,"span"),e._uU(95,"Software Rights Group"),e.qZA(),e.TgZ(96,"span",21),e._uU(97,"*"),e.qZA()(),e.TgZ(98,"div",45)(99,"app-all-mark-select",46),e.NdJ("allMarkModelChange",function(i){return t.employeeMaster.Software_Rights_Group=i}),e.qZA()()()(),e.TgZ(100,"div",33)(101,"div",10)(102,"div",47)(103,"label")(104,"span"),e._uU(105,"Shift Starting Time"),e.qZA()(),e.TgZ(106,"div",16)(107,"input",48),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Shift_Start_Timing=i}),e.qZA()()(),e.TgZ(108,"div",47)(109,"label")(110,"span"),e._uU(111,"Shift Ending Time"),e.qZA()(),e.TgZ(112,"div",16)(113,"input",48),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Shift_End_Timing=i}),e.qZA()()()()()(),e.TgZ(114,"div",49)(115,"div",19)(116,"label",50)(117,"span"),e._uU(118,"Address Line1"),e.qZA()(),e.TgZ(119,"div",16)(120,"input",51),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Address_Line_1=i}),e.qZA()()(),e.TgZ(121,"div",19)(122,"label",52)(123,"span"),e._uU(124,"Address Line2"),e.qZA()(),e.TgZ(125,"div",16)(126,"input",53),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Address_Line_2=i}),e.qZA()()(),e.TgZ(127,"div",19)(128,"label",54)(129,"span"),e._uU(130,"Location"),e.qZA()(),e.TgZ(131,"div",16)(132,"input",55),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Location=i}),e.qZA()()(),e.TgZ(133,"div",19)(134,"label",56)(135,"span"),e._uU(136,"City/District"),e.qZA()(),e.TgZ(137,"div",16)(138,"input",57),e.NdJ("ngModelChange",function(i){return t.employeeMaster.City_District=i}),e.qZA()()(),e.TgZ(139,"div",33)(140,"div",10)(141,"div",34)(142,"label",58)(143,"span"),e._uU(144,"State"),e.qZA()(),e.TgZ(145,"div",16)(146,"input",59),e.NdJ("ngModelChange",function(i){return t.employeeMaster.State=i}),e.qZA()()(),e.TgZ(147,"div",34)(148,"label",60)(149,"span"),e._uU(150,"Country"),e.qZA()(),e.TgZ(151,"div",16)(152,"input",61),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Country=i}),e.qZA()()()(),e.TgZ(153,"div",10)(154,"div",47)(155,"label",62)(156,"span"),e._uU(157,"Postal Code"),e.qZA()(),e.TgZ(158,"div",16)(159,"input",63,64),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Pincode=i})("keypress",function(i){e.CHM(s);const m=e.MAs(160);return e.KtG(t.numberValidation(i,m.value,6))}),e.qZA()()(),e.TgZ(161,"div",47)(162,"label",65)(163,"span"),e._uU(164,"Emergency ph No"),e.qZA()(),e.TgZ(165,"div",16)(166,"input",66,67),e.NdJ("ngModelChange",function(i){return t.employeeMaster.Emergency_Phone=i})("keypress",function(i){e.CHM(s);const m=e.MAs(167);return e.KtG(t.numberValidation(i,m.value,10))}),e.qZA()()()()()()()()()}2&n&&(e.xp6(4),e.Q6J("innerHtml",t.employeeID?"Update Employee":"Add Employee",e.oJD),e.xp6(5),e.Q6J("innerHtml",t.employeeID?"Update":"Save",e.oJD),e.xp6(1),e.Q6J("ngIf",t.employeeID),e.xp6(7),e.Q6J("ngIf",t.isEmpImageAvailable),e.xp6(1),e.Q6J("ngIf",!t.isEmpImageAvailable),e.xp6(3),e.Q6J("ngIf",t.isEmpImageAvailable),e.xp6(1),e.ekj("d-none",!t.employeeID),e.xp6(6),e.Q6J("ngClass",e.VKq(37,g,t.validation.isInvalid&&!t.employeeMaster.Employee_Code)),e.xp6(1),e.Q6J("disabled",!!t.employeeID)("ngModel",t.employeeMaster.Employee_Code),e.xp6(7),e.Q6J("ngClass",e.VKq(39,g,t.validation.isInvalid&&!t.employeeMaster.First_Name)),e.xp6(1),e.Q6J("ngModel",t.employeeMaster.First_Name),e.xp6(7),e.Q6J("ngClass",e.VKq(41,g,t.validation.isInvalid&&!t.employeeMaster.Last_Name)),e.xp6(1),e.Q6J("ngModel",t.employeeMaster.Last_Name),e.xp6(8),e.Q6J("ngClass",e.VKq(43,g,t.validation.isInvalid&&!t.employeeMaster.Email)),e.xp6(1),e.Q6J("ngModel",t.employeeMaster.Email),e.xp6(7),e.Q6J("ngClass",e.VKq(45,g,t.validation.isInvalid&&!t.employeeMaster.Password)),e.xp6(1),e.Q6J("ngModel",t.employeeMaster.Password),e.xp6(8),e.Q6J("ngModel",t.employeeMaster.Date_Of_Join),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Phone),e.xp6(9),e.Q6J("ngModel",t.employeeMaster.Department),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Designation),e.xp6(7),e.Q6J("ngClass",e.VKq(47,g,t.validation.isInvalid&&!t.employeeMaster.Software_Rights_Group)),e.xp6(1),e.Q6J("data",t.rightsGroupDropdown)("isClear",!1)("allMarkModel",t.employeeMaster.Software_Rights_Group),e.xp6(8),e.Q6J("ngModel",t.employeeMaster.Shift_Start_Timing),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Shift_End_Timing),e.xp6(7),e.Q6J("ngModel",t.employeeMaster.Address_Line_1),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Address_Line_2),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Location),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.City_District),e.xp6(8),e.Q6J("ngModel",t.employeeMaster.State),e.xp6(6),e.Q6J("ngModel",t.employeeMaster.Country),e.xp6(7),e.Q6J("ngModel",t.employeeMaster.Pincode),e.xp6(7),e.Q6J("ngModel",t.employeeMaster.Emergency_Phone))},dependencies:[d.mk,d.O5,c.Fj,c.JJ,c.On,O.j],styles:[".upload[_ngcontent-%COMP%]{height:157px}.image-upload[_ngcontent-%COMP%]{position:relative}.image[_ngcontent-%COMP%]{position:absolute;width:360px;height:180px;top:23px;left:0}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{appearance:none;display:none}.image-choose-container[_ngcontent-%COMP%]{position:relative}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]{margin-top:12px;display:block;overflow:hidden;transition:all 2s ease-in;border:2px dashed #ccc;border-radius:4px;width:100%;height:190px;cursor:pointer}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]   .image-container-image-card[_ngcontent-%COMP%]{height:180px;display:flex;flex-wrap:wrap;align-content:center;justify-content:center}.image-choose-container[_ngcontent-%COMP%]   .image-container-card[_ngcontent-%COMP%]   .image-container-image-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:148px;max-width:100%}.image-choose-container[_ngcontent-%COMP%]   .image-remove-icon[_ngcontent-%COMP%]{display:none;bottom:10px;position:absolute;left:0;width:100%;text-align:center}.image-choose-container[_ngcontent-%COMP%]:hover   .image-remove-icon[_ngcontent-%COMP%]{display:block}.image-upload-container[_ngcontent-%COMP%]{position:relative;padding:1rem 0}.image-upload-container[_ngcontent-%COMP%]   .image-upload-box[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:4px;width:100%;height:180px;display:flex;flex-wrap:wrap;align-content:center;justify-content:center}.upload[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;height:180px}"]})}return l})();function U(l,p){if(1&l&&(e.TgZ(0,"th"),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&l){const o=p.$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(n.removeUS(o.key))}}function P(l,p){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,U,3,1,"th",23),e.ALo(2,"keyvalue"),e.qZA()),2&l){const o=p.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,o,n.originalOrder))}}function q(l,p){if(1&l&&(e.TgZ(0,"td"),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&l){const o=p.$implicit;e.xp6(2),e.Oqu(o.value)}}function L(l,p){if(1&l){const o=e.EpF();e.TgZ(0,"tr",32),e.NdJ("click",function(){const s=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.onEditEmployee(s))}),e.YNc(1,q,3,1,"td",23),e.ALo(2,"keyvalue"),e.qZA()}if(2&l){const o=p.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,o,n.originalOrder))}}function Q(l,p){1&l&&(e.TgZ(0,"div",33)(1,"div",34),e._UZ(2,"img",35),e.qZA()())}const N=[{path:"",component:(()=>{class l{constructor(o,n,t,s){this.route=o,this.employee=n,this.log=t,this.dataTable=s,this.dtOptions={},this.dtTrigger=new C.x,this.employeeMaster={},this.employeeList=[],this.subscription=new f.w0,this.selectedEmployeeId="",this.isTableDataRetrieved=!1,this.originalOrder=(a,i)=>0,this.onPreInit()}onPreInit(){}isRightsExisting(){return!0}ngOnInit(){this.isRightsExisting()?(this.getBasicUtility(),this.onPageReady()):this.route.navigateByUrl(h.Q.unAuthorizedUrl)}onPageReady(){this.getEmployeeList()}getEmployeeList(o=!1){this.subscription.add(this.employee.getEmployeeslist().subscribe({next:n=>{this.log.log("employee list response : ",n),this.setEmployeeList(n||[],o);const s=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(s)},h.Q.tableLoaderDuration)},error:n=>{this.log.error(n,"employee-master","getEmployeeList");const t=setTimeout(()=>{this.isTableDataRetrieved=!0,clearTimeout(t)},h.Q.tableLoaderDuration)},complete:()=>{}}))}setEmployeeList(o,n=!1){if(this.employeeList=o||[],this.employeeList.length)if(n)this.reRender();else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const t=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(t)},100)}}onEditEmployee(o){this.log.log("selected employee",o);const n=o||{};n.Employee_Master_Id?(this.selectedEmployeeId=n.Employee_Master_Id,this.openEmployeeModal()):this.log.log("employee list is Empty")}onAddEmployee(){this.selectedEmployeeId="",this.openEmployeeModal()}openEmployeeModal(){document.getElementById("employee-detail-open-modal")?.click()}closeEmployeeModal(o=!1){document.getElementById("employee-detail-close-modal")?.click(),this.selectedEmployeeId="",o&&this.getEmployeeList(!0)}reRender(){if(this.dtElement.dtInstance)this.dtElement.dtInstance.then(o=>{o.destroy(),this.dtTrigger.next();const n=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(n)},100)});else if(this.dtTrigger.next(),!jQuery("table").parents(".dataTables_scroll").length){const o=setTimeout(()=>{jQuery("table").wrap('<div class="dataTables_scroll" />'),clearTimeout(o)},100)}}removeUS(o){return o.replace(/_/g," ")}getBasicUtility(){this.dtOptions=this.dataTable.getDataTableOptions()}navigateBack(){this.route.navigateByUrl("/home")}ngOnDestroy(){this.dtTrigger.unsubscribe(),this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(y.F0),e.Y36(M.G),e.Y36(v.$),e.Y36(b.n))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-master"]],viewQuery:function(n,t){if(1&n&&e.Gf(u.G,5),2&n){let s;e.iGM(s=e.CRH())&&(t.dtElement=s.first)}},decls:41,vars:14,consts:[[1,"breadcrumb-container"],[1,"breadcrumb-bar"],["aria-label","breadcrumb ",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb","mb-0"],["aria-current","page",1,"breadcrumb-item"],[1,"d-flex","align-items-center","gap-2"],[1,"aside-container"],["type","button",1,"all-back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","className","icon icon-tabler icon-tabler-arrow-back-up","width","24","height","24","viewBox","0 0 24 24","strokeWidth","2","stroke","currentColor","fill","none","strokeLinecap","round","strokeLinejoin","round"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M9 14l-4 -4l4 -4"],["d","M5 10h11a4 4 0 1 1 0 8h-1"],[1,"hover-text"],[1,"d-flex"],[1,"all-button",3,"click"],[1,"document-main-container"],[1,"form-container"],[1,"row"],[1,"col-md-12"],[1,"data-table-scroll-container"],[1,"table-spinner-container"],["role","status",1,"spinner-border","text-success"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],["class","no-record-found-container",4,"ngIf"],["id","employee-detail-model","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],[3,"employeeID","toggleEvent"],[1,"d-none"],["id","employee-detail-open-modal","data-bs-toggle","modal","data-bs-target","#employee-detail-model"],["id","employee-detail-close-modal","data-bs-dismiss","modal","data-bs-target","#employee-detail-model","aria-label","Close"],[3,"click"],[1,"no-record-found-container"],[1,"no-record-found-img-div"],["src","../../../assets/images/no-data-found.png","alt","No data found","title","No data found"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4),e._uU(5,"Employee"),e.qZA()()()(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e.NdJ("click",function(){return t.navigateBack()}),e.TgZ(9,"span"),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9)(12,"path",10)(13,"path",11),e.qZA()(),e.kcU(),e.TgZ(14,"span",12),e._uU(15,"Back"),e.qZA()()(),e.TgZ(16,"div",6)(17,"div",13)(18,"button",14),e.NdJ("click",function(){return t.onAddEmployee()}),e.TgZ(19,"span"),e._uU(20,"Add Employee"),e.qZA()()()()()(),e.TgZ(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20),e._UZ(27,"div",21),e.qZA(),e.TgZ(28,"table",22)(29,"thead"),e.YNc(30,P,3,4,"tr",23),e.ALo(31,"slice"),e.qZA(),e.TgZ(32,"tbody"),e.YNc(33,L,3,4,"tr",24),e.qZA()()(),e.YNc(34,Q,3,0,"div",25),e.qZA()()()(),e.TgZ(35,"div",26)(36,"div",27)(37,"app-employee-detail",28),e.NdJ("toggleEvent",function(a){return t.closeEmployeeModal(a)}),e.qZA()()(),e.TgZ(38,"div",29),e._UZ(39,"button",30)(40,"button",31),e.qZA()),2&n&&(e.xp6(25),e.ekj("table-spinner",!t.isTableDataRetrieved)("hide-when-no-data",0==(null==t.employeeList?null:t.employeeList.length)),e.xp6(3),e.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),e.xp6(2),e.Q6J("ngForOf",e.Dn7(31,10,t.employeeList,0,1)),e.xp6(3),e.Q6J("ngForOf",t.employeeList),e.xp6(1),e.Q6J("ngIf",0==(null==t.employeeList?null:t.employeeList.length)&&t.isTableDataRetrieved),e.xp6(3),e.Q6J("employeeID",t.selectedEmployeeId))},dependencies:[d.sg,d.O5,u.G,k,d.OU,d.Nd],styles:[".search-icon[_ngcontent-%COMP%]{top:10px;right:10px}.upload[_ngcontent-%COMP%]{height:180px}.image-upload[_ngcontent-%COMP%]{position:relative}.image[_ngcontent-%COMP%]{position:absolute;width:360px;height:180px;top:23px;left:0}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{appearance:none;display:none}.modal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#001c8e}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:none}.modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #001C8E}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:15px}"]})}return l})()}];let S=(()=>{class l{static#e=this.\u0275fac=function(n){return new(n||l)};static#t=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({imports:[y.Bz.forChild(N),y.Bz]})}return l})();var B=r(8524);let R=(()=>{class l{static#e=this.\u0275fac=function(n){return new(n||l)};static#t=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({imports:[d.ez,c.u5,S,c.UX,u.T,B.m]})}return l})()}}]);
"use strict";(self.webpackChunkwms_wip_web=self.webpackChunkwms_wip_web||[]).push([[767],{767:(O,c,l)=>{l.r(c),l.d(c,{LoginModule:()=>C});var d=l(6814),a=l(2253),s=l(6223),m=l(7394),n=l(4946),p=l(3414),u=l(2553),h=l(1457),f=l(6551),v=l(6815);function _(o,M){if(1&o){const i=n.EpF();n.O4$(),n.TgZ(0,"svg",21),n.NdJ("click",function(){n.CHM(i);const e=n.oxw();return n.KtG(e.togglePasswordVisibility())}),n._UZ(1,"path",22)(2,"path",23),n.qZA()}}function w(o,M){if(1&o){const i=n.EpF();n.O4$(),n.TgZ(0,"svg",21),n.NdJ("click",function(){n.CHM(i);const e=n.oxw();return n.KtG(e.togglePasswordVisibility())}),n._UZ(1,"path",24),n.qZA()}}const P=[{path:"",component:(()=>{class o{constructor(i,t,e,r,g,x,y){this.router=i,this.employee=t,this.log=e,this.event=r,this.credential=g,this.utility=x,this.formBuilder=y,this.changeType=!0,this.showPassword=!1,this.currentYear=(new Date).getFullYear(),this.subscription=new m.w0,this.loginValidate=!1,this.loginValLoader=!1,this.invalidLoginMessage="",this.onPreInit()}onPreInit(){this.loginForm=this.formBuilder.group({User_Name:["",s.kI.compose([s.kI.required])],Password:["",s.kI.compose([s.kI.required])]})}ngOnInit(){}onLogin(){if(this.loginValidate=!0,this.loginValLoader=!0,this.invalidLoginMessage="",!this.loginForm.valid)return void(this.loginValLoader=!1);const i=this.utility.clone(this.loginForm.value);this.loginRequest({User_Name:i.User_Name,Password:i.Password})}loginRequest(i){const t=i||{};this.subscription.add(this.employee.login(t).subscribe({next:e=>{this.log.log("send object : ",t,"Login response ",e);const r=e||{};if("success"==r.status){const g=r.data||{};g.Employee_Master_Id?this.setLoginResponse(g):this.invalidLoginMessage="EXPIRED"===g.Subscription_Status?"Subscription Expired":"Something went wrong. Please try again later"}else this.invalidLoginMessage=r.error?.message||"Username or Password Incorrect.";setTimeout(()=>this.loginValLoader=!1,1e3)},error:e=>{this.log.error(e,"login","login")},complete:()=>{this.log.log("login completed")}}))}setLoginResponse(i){const t=i||{};if(t.Employee_Master_Id){this.credential.restoreInfo(!1);const e=this.utility.clone(t);this.credential.saveLoginCredentials(e,this.loginForm.value?.User_Name);const r=setTimeout(()=>{this.redirectToHome(t.Employee_Software_Rights||""),clearTimeout(r)},1e3)}}redirectToHome(i,t){this.event.publish("set-user-name-image",!0),this.router.navigateByUrl("/home")}togglePasswordVisibility(){this.showPassword=!this.showPassword}ngOnDestroy(){this.subscription.unsubscribe()}static#n=this.\u0275fac=function(t){return new(t||o)(n.Y36(a.F0),n.Y36(p.G),n.Y36(u.$),n.Y36(h.P),n.Y36(f.T),n.Y36(v.t),n.Y36(s.qu))};static#t=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],decls:35,vars:7,consts:[[1,"container-fluid","login-bg"],[1,"row","g-0","justify-content-center","w-100"],[1,"col-xxl-4","col-lg-5","col-md-6"],[1,"login-main-container"],[1,"login-content-container"],[1,"fw-semibold","mb-3","fs-18","text-center"],["autocomplete","off",1,"text-start","mb-3",3,"formGroup","ngSubmit"],[1,"form-field-group","mb-3"],["for","User_Name",1,"form-label"],[1,"form-input-field"],["id","User_Name","type","email","formControlName","User_Name","maxlength","100",1,"form-control"],["for","Password",1,"form-label"],[1,"form-input-field","icon-field"],["id","Password","type","password","formControlName","Password","maxlength","100",1,"form-control"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","class","size-6",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],["href","#",1,"text-muted","border-bottom","border-dashed"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","fw-semibold"],[1,"row"],[1,"col-md-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"]],template:function(t,e){if(1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),n._uU(6,"Log in"),n.qZA(),n.TgZ(7,"form",6),n.NdJ("ngSubmit",function(){return e.onLogin()}),n.TgZ(8,"div",7)(9,"label",8),n._uU(10,"Username"),n.qZA(),n.TgZ(11,"div",9),n._UZ(12,"input",10),n.qZA()(),n.TgZ(13,"div",7)(14,"label",11),n._uU(15,"Password"),n.qZA(),n.TgZ(16,"div",12),n._UZ(17,"input",13),n.YNc(18,_,3,0,"svg",14),n.YNc(19,w,2,0,"svg",14),n.qZA()(),n.TgZ(20,"div",15),n._UZ(21,"div"),n.TgZ(22,"a",16),n._uU(23,"Forget Password"),n.qZA()(),n.TgZ(24,"div",17)(25,"button",18),n._uU(26,"Login"),n.qZA()()()()()()()(),n.TgZ(27,"div",4)(28,"div",19)(29,"div",20)(30,"div")(31,"span"),n._uU(32,"Warehouse Management System"),n.qZA()()(),n.TgZ(33,"div",20),n._UZ(34,"div"),n.qZA()()()),2&t){let r,g;n.xp6(7),n.Q6J("formGroup",e.loginForm),n.xp6(4),n.ekj("invalid",(null==(r=e.loginForm.get("User_Name"))?null:r.touched)&&(null==(r=e.loginForm.get("User_Name"))?null:r.invalid)),n.xp6(5),n.ekj("invalid",(null==(g=e.loginForm.get("Password"))?null:g.touched)&&(null==(g=e.loginForm.get("Password"))?null:g.invalid)),n.xp6(2),n.Q6J("ngIf",e.showPassword),n.xp6(1),n.Q6J("ngIf",!e.showPassword)}},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.sg,s.u],styles:[".content-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:center;height:100vh}.content-display[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#000;color:#fff;padding:5% 10%;opacity:.8;margin-left:10%}.content-display[_ngcontent-%COMP%]   .aside[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.75rem;line-height:1.75ch}.content-display[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%]{color:#fff;width:70%;padding:5rem 0}.login-alignment[_ngcontent-%COMP%]{display:flex;justify-content:center}.logo-page[_ngcontent-%COMP%]{height:100vh;width:100%;position:fixed;top:0;left:0;z-index:5;background-image:url(background_logo.bb3150ccb79671a9.png);background-size:cover;background-repeat:no-repeat;background-position:center}.forms[_ngcontent-%COMP%]{height:768px;top:0;left:892px;width:420px}.forms[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .forms[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .forms[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#001c8e}.password[_ngcontent-%COMP%]{top:10px;right:10px}.password1[_ngcontent-%COMP%]{top:12px;right:10px}.footer[_ngcontent-%COMP%]{margin-top:10%}.login-button[_ngcontent-%COMP%]{position:relative;background-color:#001c8e;font-weight:700;width:100%;color:#fff;padding:.5rem;border-radius:.25rem}.login-button[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{height:1.25rem;width:1.25rem;border-width:3px;position:absolute;top:8px;right:8px}.login-invalid-container[_ngcontent-%COMP%]{text-align:center;color:var(--bs-danger);margin-top:.5rem}.login-container[_ngcontent-%COMP%]{width:400px;margin-right:20%}.login-title[_ngcontent-%COMP%]{padding:2%;text-align:center}.login-container[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center}@media only screen and (max-width: 992px){.logo-page[_ngcontent-%COMP%]{background-size:cover}.content-display[_ngcontent-%COMP%]{display:none}.login-container[_ngcontent-%COMP%]{width:400px;margin:0% 20%}}@media only screen and (max-width: 576px){.login-alignment[_ngcontent-%COMP%]{display:flex;justify-content:center}.logo-page[_ngcontent-%COMP%]{background-image:none;background-color:#fff}.login-container[_ngcontent-%COMP%]{width:400px;margin:10% 0%}}.login-bg[_ngcontent-%COMP%]{padding:0;margin:0;position:fixed;top:0;left:0;z-index:111;background-color:#eef2f7}.login-main-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-wrap:wrap;align-items:center;justify-content:center}.login-main-container[_ngcontent-%COMP%]   .login-content-container[_ngcontent-%COMP%]{width:80%;padding:2rem;box-shadow:0 0 15px #9aa1ab0d;background-color:#fff}.icon-field[_ngcontent-%COMP%]{position:relative}.icon-field[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:.25rem;height:2rem;width:1.25rem}.form-input-field.invalid[_ngcontent-%COMP%]{border-bottom:1px solid var(--bs-danger)}"]})}return o})()}];let b=(()=>{class o{static#n=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275mod=n.oAB({type:o});static#e=this.\u0275inj=n.cJS({imports:[a.Bz.forChild(P),a.Bz]})}return o})(),C=(()=>{class o{static#n=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275mod=n.oAB({type:o});static#e=this.\u0275inj=n.cJS({imports:[d.ez,s.u5,s.UX,b]})}return o})()}}]);
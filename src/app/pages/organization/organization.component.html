<div class="breadcrumb-container">
    <div class="breadcrumb-bar">
        <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb ">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item" aria-current="page">Organization</li>
            </ol>
        </nav>
    </div>
    <div class="d-flex align-items-center gap-2">
        <div class="aside-container">
            <button class="all-back-button" type="button" (click)="navigateBack()">
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" className="icon icon-tabler icon-tabler-arrow-back-up"
                        width="24" height="24" viewBox="0 0 24 24" strokeWidth="2" stroke="currentColor" fill="none"
                        strokeLinecap="round" strokeLinejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M9 14l-4 -4l4 -4" />
                        <path d="M5 10h11a4 4 0 1 1 0 8h-1" />
                    </svg>
                </span>
                <span class="hover-text">Back</span>
            </button>
        </div>
        <div class="aside-container">
            <button class="all-button outline" [class.loader]="validation.isLoader" (click)="updateOrganization()">
                <span>Update</span>
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </button>
        </div>
    </div>
</div>

<div class="document-main-container">
    <div class="form-container">
        <div class="row">
            <div class="col-md-12 form-group">
                <div class="form-field-header">
                    <h4 class="title">Organization Details</h4>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 form-group form-field-group image-choose-container">
                <label for="organization-image-file" class="image-container-card">
                    <div class="image-container-image-card">
                        <ng-container *ngIf="isOrgImageAvailable">
                            <img [src]="imageSrc" alt="Organization Image" />
                        </ng-container>
                        <ng-container *ngIf="!isOrgImageAvailable">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-cloud-upload"
                                width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1" />
                                <polyline points="9 15 12 12 15 15" />
                                <line x1="12" y1="12" x2="12" y2="21" />
                            </svg>
                            <span class="d-block w-100 text-center">Drag and drop or click to upload</span>
                        </ng-container>
                    </div>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="file" accept="image/*" id="organization-image-file" class="d-none"
                            (change)="onLogoChange($event)" />
                    </div>

                </label>
                <div *ngIf="isOrgImageAvailable" class="image-remove-icon">
                    <a (click)="removeOrganizationLogo()" class="d-block text-danger" style="cursor: pointer;">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="20"
                            height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <line x1="4" y1="7" x2="20" y2="7" />
                            <line x1="10" y1="11" x2="10" y2="17" />
                            <line x1="14" y1="11" x2="14" y2="17" />
                            <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
                            <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
                        </svg>
                    </a>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group form-field-group">
                    <label for="org-cname">
                        <span>Company Name</span>
                        <span class="required-field">*</span>
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field"
                        [ngClass]="{'form-invalid-input' : (validation.isInvalid && !organizationMaster.Organization_Name)}">
                        <input type="text" class="form-control" name="org-cname"
                            [(ngModel)]="organizationMaster.Organization_Name" maxlength="100">
                    </div>
                </div>
                <div class="form-group form-field-group">
                    <label for="org-industry">
                        <span>Industry Type</span>
                        <span class="required-field">*</span>
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field"
                        [ngClass]="{'form-invalid-input' : (validation.isInvalid && !organizationMaster.Industry_Type)}">
                        <input type="text" class="form-control" name="org-industry" maxlength="100"
                            [(ngModel)]="organizationMaster.Industry_Type">
                    </div>
                </div>
                <div class="form-group form-field-group">
                    <label for="org-email">
                        <span>Emergency Mail ID</span>
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="email" class="form-control" name="org-email"
                            [(ngModel)]="organizationMaster.Emergency_Email" maxlength="100">
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group form-field-group">
                    <label for="org-contact-email">
                        <span>Contact Email</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="email" class="form-control" name="org-contact-email"
                            [(ngModel)]="organizationMaster.Contact_Email" maxlength="100">
                    </div>

                </div>
                <div class="form-group form-field-group">
                    <label for="org-gst">
                        <span>GST no </span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="org-gst"
                            [(ngModel)]="organizationMaster.TAX_UID_Number" maxlength="30">
                    </div>

                </div>
                <div class="form-group form-field-group">
                    <label for="org-pan">
                        <span>PAN no </span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="org-pan"
                            [(ngModel)]="organizationMaster.PAN_Number" maxlength="30">
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group form-field-group">
                    <label for="org-cperson">
                        <span>Contact Person</span>
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="org-cperson" maxlength="100"
                            [(ngModel)]="organizationMaster.Contact_Person">
                    </div>
                </div>
                <div class="form-group form-field-group">
                    <label for="org-cin">
                        <span>CIN</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="org-cin"
                            [(ngModel)]="organizationMaster.CIN_Number" maxlength="30">
                    </div>
                </div>
                <div class="form-group form-field-group">
                    <label for="org-website">
                        <span>Website</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="website" [(ngModel)]="organizationMaster.Website"
                            maxlength="100">
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <h4>Financial Details</h4>
        <div class="py-4">

            <div class="row">
                <div class="col-md-3 form-group form-field-group">
                    <label for="fin-bankname">
                        <span>Bank Name</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control " name="fin-bankname"
                            [(ngModel)]="organizationMaster.Bank_Name" maxlength="100">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="fin-branch">
                        <span>Branch</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="fin-branch"
                            [(ngModel)]="organizationMaster.Branch" maxlength="100">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="financial-account-number">
                        <span>A/c No</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="password" class="form-control" name="financial-account-number"
                            [(ngModel)]="organizationMaster.Account_Number" maxlength="50">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="fin-ifsc">
                        <span>IFSC code</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="fin-ifsc"
                            [(ngModel)]="organizationMaster.IFSC_Code" maxlength="100">
                    </div>

                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="fin-state">
                        <span>state(GST purpose)</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="fin-state" [(ngModel)]="organizationMaster.State"
                            maxlength="100">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row ">
                        <div class="col-md-6 form-group form-field-group">
                            <label>
                                <span>Financial Start</span>

                                <!-- <span class="text-danger">*</span> -->
                            </label>
                            <div class="form-input-field" data-validation-info="Enter the field">
                                <input type="date" disabled="true" class="form-control" name="fin-fianance"
                                    [(ngModel)]="organizationMaster.Fiscal_Year_Start">
                            </div>
                        </div>

                        <div class="col-md-6 financial-year">
                            <label>
                                <span>Financial End</span>

                                <!-- <span class="text-danger">*</span> -->
                            </label>
                            <div class="form-input-field" data-validation-info="Enter the field">
                                <input type="date" disabled="true" class="form-control" name="fin-endyear"
                                    [(ngModel)]="organizationMaster.Fiscal_Year_End">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 form-group form-field-group">
                    <label for="fin-inventory">
                        <span>Inventory start Date</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="date" disabled="true" class="form-control" name="fin-inventory"
                            [(ngModel)]="organizationMaster.Inventory_Start_Date">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">

                    <label for="fin-timezone">
                        <span>Time Zone</span>

                        <!-- <span class="text-danger fw-bold">*</span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" disabled="true" class="form-control" name="fin-timezone"
                            [(ngModel)]="organizationMaster.Time_Zone">
                    </div>

                </div>
            </div>
        </div>
        <hr>
        <h4>Billing Address</h4>
        <div class="py-4">

            <div class="row">
                <div class="col-md-3 form-group form-field-group">
                    <label for="bill-ad1">
                        <span>Address 1</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="bill-ad1"
                            [(ngModel)]="organizationMaster.Billing_Address_Line_1" maxlength="100">
                    </div>

                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="bill-ad2">
                        <span>Address 2</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="bill-ad2"
                            [(ngModel)]="organizationMaster.Billing_Address_Line_2" maxlength="100">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="bill-location">
                        <span>Location</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="bill-location"
                            [(ngModel)]="organizationMaster.Billing_Location" maxlength="100">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="bill-city">
                        <span>City/District</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="bill-city"
                            [(ngModel)]="organizationMaster.Billing_City_District" maxlength="100">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="bill-state">
                        <span>State</span></label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="bill-state"
                            [(ngModel)]="organizationMaster.Billing_State" maxlength="100">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row">
                        <div class="col-md-6 form-group form-field-group">
                            <label for="bill-code">
                                <span>Postal code</span>

                                <!-- <span class="text-nowrap"></span> -->
                            </label>
                            <div class="form-input-field" data-validation-info="Enter the field">
                                <input type="text" class="form-control" name="bill-code" appNumber
                                    [(ngModel)]="organizationMaster.Billing_Pincode" maxlength="6">
                            </div>

                        </div>
                        <div class="col-md-6 form-group form-field-group">
                            <label for="bill-country">
                                <span>Country</span>
                                <!-- <span class="text-nowrap"></span> -->
                            </label>
                            <div class="form-input-field" data-validation-info="Enter the field">
                                <input type="text" class="form-control" name="bill-country"
                                    [(ngModel)]="organizationMaster.Billing_Country" maxlength="100">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="bill-phoneno">
                        <span>Phone Number</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="bill-phoneno"
                            [(ngModel)]="organizationMaster.Billing_Phone"
                            (keypress)="numberValidation($event,phone.value,9)" #phone>
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="bill-email">
                        <span>Email</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="email" class="form-control" name="bill-email"
                            [(ngModel)]="organizationMaster.Billing_Email" maxlength="100">
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <h4>Shipping Address</h4>
        <div class="py-4">
            <div class="row">
                <div class="col-md-3 form-group form-field-group">
                    <label for="ship-ad1">
                        <span>Address 1</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="ship-ad1"
                            [(ngModel)]="organizationMaster.Shipping_Address_Line_1">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="ship-ad2">
                        <span> Address 2</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="ship-ad2"
                            [(ngModel)]="organizationMaster.Shipping_Address_Line_2">
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="ship-location">
                        <span>Location</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="location"
                            [(ngModel)]="organizationMaster.Shipping_Location">
                    </div>

                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="ship-city">
                        <span>City/District</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <input type="text" class="form-control" name="ship-city"
                        [(ngModel)]="organizationMaster.Shipping_City_District">
                    <div class="form-input-field" data-validation-info="Enter the field">

                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="ship-state">
                        <span>State</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="ship-state"
                            [(ngModel)]="organizationMaster.Shipping_State">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row g-4">
                        <div class="col-md-6 form-group form-field-group">
                            <label for="ship-code">
                                <span> Postal code</span>
                                <!-- <span class="text-nowrap"></span> -->
                                <!-- <span class="text-nowrap"></span> -->
                            </label>
                            <div class="form-input-field" data-validation-info="Enter the field">
                                <input type="text" class="form-control" name="ship-code"
                                    [(ngModel)]="organizationMaster.Shipping_Pincode" 
                                    (keypress)="numberValidation($event,postal.value,6)" #postal>
                            </div>
                        </div>
                        <div class="col-md-6 form-group form-field-group">
                            <label for="ship-country">
                                <span>Country</span>
                                <!-- <span class="text-nowrap"></span> -->
                            </label>
                            <div class="form-input-field" data-validation-info="Enter the field">
                                <input type="text" class="form-control" name="ship-country"
                                    [(ngModel)]="organizationMaster.Shipping_Country">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="ship-phno">
                        <span>Phone Number</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="text" class="form-control" name="ship-phno"
                            [(ngModel)]="organizationMaster.Shipping_Phone" 
                            (keypress)="numberValidation($event,shippingPhone.value,9)" #shippingPhone>
                    </div>
                </div>
                <div class="col-md-3 form-group form-field-group">
                    <label for="ship-email">
                        <span>Email</span>
                        <!-- <span class="text-nowrap"></span> -->
                    </label>
                    <div class="form-input-field" data-validation-info="Enter the field">
                        <input type="email" class="form-control" name="ship-email"
                            [(ngModel)]="organizationMaster.Shipping_Email">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
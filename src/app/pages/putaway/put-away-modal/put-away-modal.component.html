<div class="modal-content">
    <div class="modal-header">
        <div class="d-flex align-items-center justify-content-between w-100">
            <div>
                <h5 class="modal-title" id="putawayGenerateModalLabel">Putaway</h5>
            </div>

            <div class="d-flex align-items-center gap-2">
                <button class="all-button ms-3" type="button" (click)="onCompletePutAway()">Complete</button>
                <button type="button" class="all-close-button" data-bs-dismiss="modal" aria-label="Close">Close</button>
            </div>
        </div>
        <!-- <button class="btn btn-warning ms-3" data-bs-dismiss="modal" type="submit" (click)="updateEmployee()"
            *ngIf="employeeID">Update</button> -->
    </div>
    <div class="modal-body">
        <div class="row mb-3">
            <div class="col-md-6">
                <span>Total Products</span>
                <span class="ps-2 fw-bold" [innerHtml]="selectedProductList?.length || '0'"></span>
            </div>
            <div class="col-md-6 text-end">
                <span class="pe-2">Total Quantity</span>
                <span class="pe-2" [innerHtml]="totalQuantity || '0'"></span>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-md-4">
                <div class="form-input-field scan-field-container">
                    <input type="text" class="form-control" placeholder="Scan Rack here" [(ngModel)]="scanRack"
                        (keypress)="onRackChange($event, scanRack)" />

                    <!-- clear icon -->
                    <a class="clear-icon" *ngIf="scanRack" (click)="clearRackField()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg>
                    </a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-input-field scan-field-container">
                    <input type="text" class="form-control" placeholder="Scan Shelf here" [(ngModel)]="scanShelf"
                        (keypress)="onShelveChange($event, scanShelf)" />
                    <!-- clear icon -->
                    <a class="clear-icon" *ngIf="scanShelf" (click)="clearShelfField()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg>
                    </a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-input-field scan-field-container">
                    <input type="text" class="form-control" placeholder="Scan Bin here" [(ngModel)]="scanBin"
                        (keypress)="onBinChange($event, scanBin)" />
                    <!-- clear icon -->
                    <a class="clear-icon" *ngIf="scanBin" (click)="clearBinField()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-md-12">
                <div class="form-input-field scan-field-container">
                    <input type="text" class="form-control" placeholder="Scan item here" [(ngModel)]="scanItem"
                        (keypress)="onItemChange($event, scanItem)" />
                </div>
            </div>
        </div>

        <div class="row mt-2" *ngIf="putAwayList?.length">
            <div class="col-md-12">
                <table class="table put-away-table">
                    <thead>
                        <tr>
                            <th>Rack</th>
                            <th>Shelf</th>
                            <th>Bin</th>
                            <th>Item</th>
                            <th class="text-center">Quantity</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngFor="let item of putAwayList;let i=index;">
                            <!-- <tr [attr.rowspan]="item.Putaway_Product?.length">
                                <td>
                                    <span [innerHtml]="item.Rack_Code"></span>
                                </td>
                                <td>
                                    <span [innerHtml]="item.Shelf_Code"></span>
                                </td>
                                <td>
                                    <span [innerHtml]="item.Bin_Code"></span>
                                </td>
                                <td>

                                </td>
                                <td>

                                </td>
                            </tr> -->
                            <tr *ngFor="let product of item.Putaway_Product;let i=index;">
                                <td>
                                    <span [innerHtml]="item.Rack_Code"></span>
                                </td>
                                <td>
                                    <span [innerHtml]="item.Shelf_Code"></span>
                                </td>
                                <td>
                                    <span [innerHtml]="item.Bin_Code"></span>
                                </td>
                                <td>
                                    <span
                                        [innerHtml]="(product.Material_Code || '') + ' - '+ (product.Material_Name || '')"></span>
                                </td>
                                <td class="text-center">
                                    <span [innerHtml]="product.Quantity"></span>
                                </td>
                                <td>
                                    <a class="action-icon-button delete-icon" (click)="onDeleteScannedProduct(product)">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            class="icon icon-tabler icon-tabler-trash" width="16" height="16"
                                            viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <line x1="4" y1="7" x2="20" y2="7" />
                                            <line x1="10" y1="11" x2="10" y2="17" />
                                            <line x1="14" y1="11" x2="14" y2="17" />
                                            <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
                                            <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
                                        </svg>
                                    </a>
                                </td>
                            </tr>
                        </ng-container>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>